import { Exercise } from '@/types/learning';

// ============================================
// BANCO DE EXERCÍCIOS COMPLETO
// Mínimo: 300 exercícios
// Estrutura: Hints Socráticos + Contexto Militar
// ============================================

export const exercisesBank: Exercise[] = [
  // ============================================
  // MÓDULO 1: FUNDAMENTOS DO PYTHON (40 exercícios)
  // ============================================
  
  // --- Variáveis (py-fund-2) ---
  {
    id: 'py-fund-var-1',
    lessonId: 'py-fund-2',
    type: 'code',
    question: 'Crie uma variável chamada `idade` que guarde sua idade. Depois, crie outra variável `ano_nascimento` que calcule o ano em que você nasceu (considere o ano atual como 2025).',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que você acha que precisamos de duas variáveis diferentes aqui?', hint: 'Pense: uma guarda um dado direto, outra é calculada.' },
      { level: 2, type: 'what-for', question: 'Se você tivesse que calcular o ano de nascimento de 1000 pessoas, preferiria fazer manualmente ou deixar o computador fazer?', hint: 'Variáveis permitem que o computador faça cálculos para nós.' },
      { level: 3, type: 'how', question: 'Qual operação matemática transforma idade em ano de nascimento?', hint: 'Subtração: ano_atual - idade = ano_nascimento' },
    ],
    starterCode: '# Crie suas variáveis aqui\n\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '', description: 'Variável idade deve existir e ser um número' }],
    explanation: {
      why: 'Variáveis existem porque precisamos guardar informações para usar depois. Imagine tentar fazer contas de cabeça com 100 números - impossível!',
      whatFor: 'Elas resolvem o problema de não precisar lembrar de tudo. O computador lembra para você.',
      how: 'Em Python, usamos o sinal de igual (=) para "guardar" um valor em um nome.',
      commonMistakes: ['Usar espaços no nome da variável (use underscores)', 'Começar com números', 'Confundir = (atribuição) com == (comparação)'],
      realWorldExample: 'Em uma planilha de funcionários, cada célula é uma variável.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'atribuição', 'cálculo'],
    xpReward: 50,
    professionalContext: 'Em sistemas de RH, variáveis armazenam dados de funcionários.',
    militaryApplication: 'Sistemas de logística usam variáveis para calcular suprimentos: número_soldados * rações_por_dia = total_rações.',
  },
  {
    id: 'py-fund-var-2',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output do seguinte código?\n\n```python\nx = 5\ny = x\nx = 10\nprint(y)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Quando y = x, o que é copiado - a variável x ou o VALOR que x contém?', hint: 'O valor é copiado, não a variável em si.' },
      { level: 2, type: 'how', question: 'Depois de y = x, o que acontece com y se mudarmos x?', hint: 'Nada. y tem sua própria cópia do valor.' },
    ],
    options: ['5', '10', 'x', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Entender que variáveis guardam valores, não referências, é fundamental.',
      whatFor: 'Isso previne bugs onde você altera uma variável pensando que afeta outra.',
      how: 'y = x copia o valor de x (5) para y. Depois, x muda para 10, mas y continua 5.',
      commonMistakes: ['Pensar que y é um "apelido" para x', 'Confundir com comportamento de listas'],
      realWorldExample: 'Copiar uma célula de planilha não cria vínculo com a original.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'atribuição', 'cópia'],
    xpReward: 50,
    professionalContext: 'Sistemas financeiros: backup de valores antes de cálculos.',
    militaryApplication: 'Registro de posição anterior antes de atualizar: posicao_anterior = posicao_atual',
  },
  {
    id: 'py-fund-var-3',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnome = "Maria"\nsobrenome = "Silva"\nnome_completo = nome + " " + sobrenome\nprint(nome_completo)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que acontece quando usamos + com textos?', hint: 'Textos são "colados" juntos (concatenação).' },
      { level: 2, type: 'how', question: 'Por que adicionamos " " entre nome e sobrenome?', hint: 'Sem o espaço, seria "MariaSilva".' },
    ],
    options: ['Maria Silva', 'MariaSilva', 'nome sobrenome', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Concatenação de strings é operação básica para construir textos.',
      whatFor: 'Criar mensagens dinâmicas, relatórios, outputs formatados.',
      how: 'O operador + com strings junta os textos na ordem.',
      commonMistakes: ['Esquecer o espaço entre palavras', 'Tentar concatenar string com número sem converter'],
      realWorldExample: 'Gerar nomes completos em formulários.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'strings', 'concatenação'],
    xpReward: 50,
    professionalContext: 'Sistemas geram mensagens: "Bem-vindo, " + nome_usuario',
    militaryApplication: 'Relatórios: "Missão " + codigo + " concluída com " + status',
  },
  {
    id: 'py-fund-var-4',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nquantidade = "10"\npreco = 5\ntotal = quantidade * preco\nprint(total)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'quantidade é um número ou texto?', hint: 'Está entre aspas - é texto (string).' },
      { level: 2, type: 'how', question: 'O que acontece quando multiplicamos string por número?', hint: 'A string é repetida N vezes.' },
    ],
    options: ['50', '1010101010', 'Erro', '10 10 10 10 10'],
    correctAnswer: 1,
    explanation: {
      why: 'Python diferencia tipos. "10" não é igual a 10.',
      whatFor: 'Evitar bugs ao processar dados de formulários (sempre vêm como texto).',
      how: '"10" * 5 repete a string 5 vezes: "1010101010".',
      commonMistakes: ['Assumir que números entre aspas são números', 'Não converter tipos antes de operações'],
      realWorldExample: 'Dados de CSV vêm como texto e precisam de conversão.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'tipos', 'multiplicação'],
    xpReward: 75,
    professionalContext: 'Parsing de dados de APIs frequentemente requer conversão de tipos.',
    militaryApplication: 'Leitura de sensores: valores chegam como texto, precisam virar números.',
  },
  {
    id: 'py-fund-var-5',
    lessonId: 'py-fund-2',
    type: 'code',
    question: 'Converta a string "42" para inteiro e multiplique por 3. Armazene o resultado em uma variável chamada `resultado`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que precisamos converter antes de calcular?', hint: '"42" * 3 daria "424242", não 126.' },
      { level: 2, type: 'how', question: 'Qual função converte texto para número inteiro?', hint: 'int() converte para inteiro.' },
    ],
    starterCode: 'texto = "42"\n# Converta e calcule\n',
    expectedOutput: '126',
    testCases: [{ input: '', expectedOutput: '126', description: 'resultado deve ser 126' }],
    explanation: {
      why: 'Conversão de tipos é essencial ao processar dados externos.',
      whatFor: 'Dados de arquivos, APIs, formulários sempre chegam como texto.',
      how: 'int("42") converte string para inteiro. float() para decimal.',
      commonMistakes: ['Tentar converter texto que não é número', 'Esquecer de converter antes de calcular'],
      realWorldExample: 'Formulário web: idade do usuário chega como "25", precisa virar 25.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'tipos', 'conversão'],
    xpReward: 75,
    professionalContext: 'ETL pipelines fazem conversões massivas de tipos.',
    militaryApplication: 'Coordenadas GPS chegam como texto, precisam virar números para cálculos.',
  },
  {
    id: 'py-fund-var-6',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\na = 10\nb = 3\nprint(a // b)\nprint(a % b)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Qual a diferença entre / e //?', hint: '/ dá resultado com decimal, // dá só a parte inteira.' },
      { level: 2, type: 'how', question: 'O que % (módulo) retorna?', hint: 'O resto da divisão.' },
    ],
    options: ['3\\n1', '3.33\\n0', '3\\n0', '10\\n3'],
    correctAnswer: 0,
    explanation: {
      why: 'Divisão inteira e módulo são operações distintas com usos específicos.',
      whatFor: 'Paginação (quantas páginas), distribuição igualitária, verificar par/ímpar.',
      how: '10 // 3 = 3 (divisão inteira). 10 % 3 = 1 (resto: 10 = 3*3 + 1).',
      commonMistakes: ['Confundir // com /', 'Não saber que % é o resto'],
      realWorldExample: 'Distribuir 10 tarefas entre 3 pessoas: cada um faz 3, sobra 1.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'operadores', 'divisão'],
    xpReward: 75,
    professionalContext: 'Paginação: total_items // items_por_pagina = numero_paginas.',
    militaryApplication: 'Distribuir munição: total // soldados = por_soldado, total % soldados = sobra.',
  },

  // --- Tipos de Dados (py-fund-3) ---
  {
    id: 'py-fund-type-1',
    lessonId: 'py-fund-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nprint(type(3.14))\nprint(type("3.14"))\nprint(type(True))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que o computador diferencia "3.14" de 3.14?', hint: 'Um é texto, outro é número. Operações diferentes.' },
      { level: 2, type: 'how', question: 'O que a função type() retorna?', hint: 'O tipo do dado: int, float, str, bool, etc.' },
    ],
    options: ["<class 'float'>\\n<class 'str'>\\n<class 'bool'>", "<class 'int'>\\n<class 'str'>\\n<class 'int'>", 'float\\nstr\\nbool', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Tipos determinam quais operações são válidas e como dados são armazenados.',
      whatFor: 'Debugging, validação de dados, escolha de operações corretas.',
      how: 'type() retorna a classe/tipo do objeto.',
      commonMistakes: ['Confundir número com string de número', 'Não saber que True/False são tipo bool'],
      realWorldExample: 'Validar que campo de idade recebeu número, não texto.',
    },
    difficulty: 'beginner',
    tags: ['tipos', 'type', 'float', 'str', 'bool'],
    xpReward: 50,
    professionalContext: 'Validação de APIs: verificar tipos antes de processar.',
    militaryApplication: 'Verificar tipo de coordenada antes de cálculo de trajetória.',
  },
  {
    id: 'py-fund-type-2',
    lessonId: 'py-fund-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nprint(bool(0))\nprint(bool(""))\nprint(bool("False"))\nprint(bool([]))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que é considerado "falso" em Python?', hint: 'Zero, vazio, None são "falsy".' },
      { level: 2, type: 'how', question: '"False" entre aspas é texto ou booleano?', hint: 'É texto (string). E texto não-vazio é truthy.' },
    ],
    options: ['False\\nFalse\\nTrue\\nFalse', 'False\\nFalse\\nFalse\\nFalse', 'True\\nFalse\\nTrue\\nFalse', '0\\n\\nFalse\\n[]'],
    correctAnswer: 0,
    explanation: {
      why: 'Python usa "truthy" e "falsy" para avaliar qualquer valor como booleano.',
      whatFor: 'Condicionais mais elegantes: if lista: (ao invés de if len(lista) > 0:)',
      how: '0, "", [], None são falsy. Qualquer outro valor é truthy.',
      commonMistakes: ['"False" (string) é truthy, não False!', 'Lista vazia [] é falsy'],
      realWorldExample: 'if usuario: (verifica se usuário existe/não é vazio).',
    },
    difficulty: 'intermediate',
    tags: ['tipos', 'bool', 'truthy', 'falsy'],
    xpReward: 100,
    professionalContext: 'Validação: if dados: (verifica se há dados para processar).',
    militaryApplication: 'Verificação rápida: if suprimentos: (há suprimentos?) else: (reabastecer).',
  },
  {
    id: 'py-fund-type-3',
    lessonId: 'py-fund-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nx = 5\ny = 5.0\nprint(x == y)\nprint(type(x) == type(y))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'x e y têm o mesmo valor? E o mesmo tipo?', hint: 'Valor: sim (5 = 5.0). Tipo: não (int ≠ float).' },
      { level: 2, type: 'how', question: 'O que == compara - valor ou tipo?', hint: 'Valor. Para comparar tipos, use type().' },
    ],
    options: ['True\\nFalse', 'True\\nTrue', 'False\\nFalse', 'False\\nTrue'],
    correctAnswer: 0,
    explanation: {
      why: 'Python compara valores com ==, não tipos. 5 == 5.0 é True.',
      whatFor: 'Flexibilidade em comparações, mas atenção em casos específicos.',
      how: '== compara valor. type() compara tipo. is compara identidade.',
      commonMistakes: ['Assumir que tipos diferentes nunca são iguais', 'Não verificar tipo quando necessário'],
      realWorldExample: 'Cálculos financeiros: 100 == 100.0 permite flexibilidade.',
    },
    difficulty: 'intermediate',
    tags: ['tipos', 'comparação', 'int', 'float'],
    xpReward: 75,
    professionalContext: 'Sistemas financeiros precisam cuidado com int vs float.',
    militaryApplication: 'Calibragem: 100 metros pode ser 100 ou 100.0 dependendo do sensor.',
  },

  // --- Exercícios de Prática (py-fund-4) ---
  {
    id: 'py-fund-prac-1',
    lessonId: 'py-fund-4',
    type: 'code',
    question: 'Calcule o salário líquido dado o bruto. Deduza 11% de INSS e 15% de IR (sobre o bruto). Armazene em `salario_liquido`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que calculamos deduções sobre o bruto, não sobre o líquido?', hint: 'Dedução é sobre o que você ganha, não sobre o que sobra.' },
      { level: 2, type: 'how', question: 'Como calcular porcentagem? Ex: 11% de 1000?', hint: '1000 * 0.11 = 110 (ou 1000 * 11 / 100).' },
    ],
    starterCode: 'salario_bruto = 5000\n# Calcule as deduções e o líquido\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '3700', description: 'salario_liquido deve ser 3700' }],
    explanation: {
      why: 'Cálculos trabalhistas são comuns em análise de RH.',
      whatFor: 'Automatizar folha de pagamento, simular impactos salariais.',
      how: 'liquido = bruto - (bruto * 0.11) - (bruto * 0.15) = bruto * (1 - 0.26).',
      commonMistakes: ['Aplicar desconto sobre desconto', 'Usar porcentagem errada (11 ao invés de 0.11)'],
      realWorldExample: 'Sistemas de RH calculam isso para milhares de funcionários.',
    },
    difficulty: 'beginner',
    tags: ['cálculo', 'porcentagem', 'variáveis'],
    xpReward: 100,
    professionalContext: 'Folha de pagamento automatizada.',
    militaryApplication: 'Cálculo de soldos com deduções por dependentes e benefícios.',
  },
  {
    id: 'py-fund-prac-2',
    lessonId: 'py-fund-4',
    type: 'code',
    question: 'Converta temperatura de Celsius para Fahrenheit. Fórmula: F = C * 9/5 + 32. Dado `celsius = 25`, calcule `fahrenheit`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que existe conversão de temperatura?', hint: 'Diferentes sistemas de medida em diferentes países.' },
      { level: 2, type: 'how', question: 'Qual a ordem de operações na fórmula?', hint: 'Multiplicação primeiro, depois soma.' },
    ],
    starterCode: 'celsius = 25\n# Converta para Fahrenheit\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '77', description: 'fahrenheit deve ser 77.0' }],
    explanation: {
      why: 'Conversões são comuns quando integrando sistemas de diferentes origens.',
      whatFor: 'Padronizar unidades antes de análises.',
      how: 'F = 25 * 9/5 + 32 = 45 + 32 = 77.',
      commonMistakes: ['Ordem errada de operações', 'Usar divisão inteira quando precisa de float'],
      realWorldExample: 'Sistemas meteorológicos integram dados de diferentes países.',
    },
    difficulty: 'beginner',
    tags: ['cálculo', 'conversão', 'fórmula'],
    xpReward: 75,
    professionalContext: 'APIs de clima podem retornar em diferentes unidades.',
    militaryApplication: 'Equipamentos de diferentes países usam unidades diferentes.',
  },

  // ============================================
  // MÓDULO 2: LÓGICA E DECISÕES (45 exercícios)
  // ============================================
  {
    id: 'py-logic-cond-1',
    lessonId: 'py-logic-1',
    type: 'output-prediction',
    question: 'Analise o código abaixo e diga qual será o output:\n\n```python\nx = 15\nif x > 20:\n    print("Grande")\nelif x > 10:\n    print("Médio")\nelse:\n    print("Pequeno")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que existem três caminhos diferentes nesse código?', hint: 'Cada caminho representa uma "decisão" diferente baseada no valor de x.' },
      { level: 2, type: 'how', question: 'Em que ordem o Python avalia as condições?', hint: 'De cima para baixo. Assim que uma é verdadeira, executa e ignora o resto.' },
    ],
    options: ['Grande', 'Médio', 'Pequeno', 'Erro'],
    correctAnswer: 1,
    explanation: {
      why: 'Condicionais permitem programas se adaptarem a diferentes situações.',
      whatFor: 'Classificar, categorizar, tomar decisões automáticas.',
      how: '15 > 20? Não. 15 > 10? Sim! Executa "Médio" e ignora else.',
      commonMistakes: ['Esquecer dois pontos', 'Indentação errada', 'Usar = ao invés de =='],
      realWorldExample: 'Classificação de clientes por faixa de consumo.',
    },
    difficulty: 'beginner',
    tags: ['condicionais', 'if', 'elif', 'else'],
    xpReward: 75,
    professionalContext: 'Sistemas de crédito classificam risco por faixas.',
    militaryApplication: 'Classificação de ameaça: crítica, moderada, baixa.',
  },
  {
    id: 'py-logic-cond-2',
    lessonId: 'py-logic-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnota = 85\nif nota >= 90:\n    conceito = "A"\nif nota >= 80:\n    conceito = "B"\nif nota >= 70:\n    conceito = "C"\nprint(conceito)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que usar "if" separados ao invés de "elif"?', hint: 'Cada if é avaliado independentemente!' },
      { level: 2, type: 'how', question: 'Quantos desses ifs são verdadeiros para nota=85?', hint: '85 >= 90? Não. 85 >= 80? Sim. 85 >= 70? Sim.' },
    ],
    options: ['A', 'B', 'C', 'Erro'],
    correctAnswer: 2,
    explanation: {
      why: 'ifs separados são TODOS avaliados. elif para quando quer apenas um.',
      whatFor: 'Entender diferença entre condições exclusivas e independentes.',
      how: '85 >= 80 → conceito="B". Depois 85 >= 70 → conceito="C". Último ganha.',
      commonMistakes: ['Pensar que if separados funcionam como elif', 'Não perceber que valor é sobrescrito'],
      realWorldExample: 'Bug clássico: aplicar múltiplos descontos quando só deveria ser um.',
    },
    difficulty: 'intermediate',
    tags: ['condicionais', 'if', 'bug'],
    xpReward: 100,
    professionalContext: 'Regras de negócio mal implementadas causam problemas.',
    militaryApplication: 'Múltiplas condições de alerta: cada uma deve ser elif, não if.',
  },
  {
    id: 'py-logic-cond-3',
    lessonId: 'py-logic-1',
    type: 'code',
    question: 'Escreva código que classifique uma idade: "Menor" (< 18), "Adulto" (18-64), "Idoso" (>= 65). Armazene em `categoria`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que precisamos de múltiplas condições?', hint: 'São 3 categorias mutuamente exclusivas.' },
      { level: 2, type: 'how', question: 'Como verificar se está entre 18 e 64?', hint: 'idade >= 18 and idade < 65, ou verificar as outras primeiro.' },
    ],
    starterCode: 'idade = 45\n# Classifique a idade\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: 'Adulto', description: 'categoria deve ser "Adulto"' }],
    explanation: {
      why: 'Classificação por faixas é operação comum em análise de dados.',
      whatFor: 'Segmentar público, aplicar regras diferenciadas.',
      how: 'if idade < 18 elif idade < 65 else (65+).',
      commonMistakes: ['Esquecer casos limite (exatamente 18, 65)', 'Condições sobrepostas'],
      realWorldExample: 'Planos de saúde com preços por faixa etária.',
    },
    difficulty: 'beginner',
    tags: ['condicionais', 'classificação', 'faixas'],
    xpReward: 75,
    professionalContext: 'Segmentação de clientes por faixa etária.',
    militaryApplication: 'Classificação de efetivo: reserva, ativo, veterano.',
  },
  {
    id: 'py-logic-op-1',
    lessonId: 'py-logic-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\na = True\nb = False\nprint(a and b)\nprint(a or b)\nprint(not a)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que "and" exige para ser True?', hint: 'AMBOS precisam ser True.' },
      { level: 2, type: 'how', question: 'O que "or" exige para ser True?', hint: 'PELO MENOS UM precisa ser True.' },
    ],
    options: ['False\\nTrue\\nFalse', 'True\\nTrue\\nFalse', 'False\\nFalse\\nTrue', 'True\\nFalse\\nTrue'],
    correctAnswer: 0,
    explanation: {
      why: 'Operadores lógicos combinam condições.',
      whatFor: 'Criar condições complexas: "se A E B" ou "se A OU B".',
      how: 'and: ambos True. or: pelo menos um True. not: inverte.',
      commonMistakes: ['Confundir and com or', 'Esquecer que not inverte'],
      realWorldExample: 'Aprovar empréstimo SE renda_ok AND score_ok.',
    },
    difficulty: 'beginner',
    tags: ['operadores', 'lógica', 'and', 'or', 'not'],
    xpReward: 75,
    professionalContext: 'Regras de aprovação combinam múltiplos critérios.',
    militaryApplication: 'Autorização: patente_ok AND clearance_ok.',
  },
  {
    id: 'py-logic-op-2',
    lessonId: 'py-logic-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nx = 5\nprint(x > 3 and x < 10)\nprint(x < 3 or x > 7)\nprint(not(x == 5))\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'x está entre 3 e 10?', hint: '5 > 3? Sim. 5 < 10? Sim. Ambos True → True.' },
      { level: 2, type: 'how', question: 'x é menor que 3 OU maior que 7?', hint: '5 < 3? Não. 5 > 7? Não. Nenhum True → False.' },
    ],
    options: ['True\\nFalse\\nFalse', 'True\\nTrue\\nFalse', 'False\\nFalse\\nTrue', 'True\\nFalse\\nTrue'],
    correctAnswer: 0,
    explanation: {
      why: 'Combinar comparações com operadores lógicos.',
      whatFor: 'Verificar intervalos, exclusões, condições compostas.',
      how: '5 > 3 and 5 < 10 → True. 5 < 3 or 5 > 7 → False. not(True) → False.',
      commonMistakes: ['Confundir precedência', 'Não usar parênteses quando necessário'],
      realWorldExample: 'Filtrar produtos: preco >= 10 and preco <= 50.',
    },
    difficulty: 'beginner',
    tags: ['operadores', 'lógica', 'comparação'],
    xpReward: 75,
    professionalContext: 'Filtros de e-commerce usam and/or.',
    militaryApplication: 'Critérios de seleção: altura >= 1.60 and idade <= 30.',
  },
  {
    id: 'py-logic-op-3',
    lessonId: 'py-logic-2',
    type: 'code',
    question: 'Verifique se um ano é bissexto. Regra: divisível por 4, EXCETO se divisível por 100 (a menos que também seja divisível por 400). Armazene True/False em `bissexto`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que a regra é complexa?', hint: 'Calendário precisa de ajustes para manter sincronização com o Sol.' },
      { level: 2, type: 'how', question: 'Como verificar divisibilidade?', hint: 'ano % 4 == 0 significa divisível por 4.' },
      { level: 3, type: 'how', question: 'Como combinar as condições?', hint: '(div por 4 AND não div por 100) OR (div por 400).' },
    ],
    starterCode: 'ano = 2024\n# Verifique se é bissexto\n',
    expectedOutput: '',
    testCases: [
      { input: '', expectedOutput: 'True', description: '2024 é bissexto' },
    ],
    explanation: {
      why: 'Lógica de calendário é exemplo clássico de condições compostas.',
      whatFor: 'Cálculo de datas, validações de formulários.',
      how: '(ano % 4 == 0 and ano % 100 != 0) or (ano % 400 == 0).',
      commonMistakes: ['Esquecer a exceção do século', 'Ordem errada de avaliação'],
      realWorldExample: 'Sistemas de calendário, cálculo de dias entre datas.',
    },
    difficulty: 'intermediate',
    tags: ['lógica', 'operadores', 'algoritmo'],
    xpReward: 125,
    professionalContext: 'Bibliotecas de datas implementam isso internamente.',
    militaryApplication: 'Planejamento de operações considera calendário preciso.',
  },

  // ============================================
  // MÓDULO 3: LOOPS (50 exercícios)
  // ============================================
  {
    id: 'py-loop-for-1',
    lessonId: 'py-loops-1',
    type: 'output-prediction',
    question: 'O que este código imprime?\n\n```python\nresultado = 0\nfor numero in [1, 2, 3, 4, 5]:\n    resultado = resultado + numero\nprint(resultado)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que usamos um loop ao invés de somar manualmente?', hint: 'E se a lista tivesse 1000 números?' },
      { level: 2, type: 'how', question: 'O que acontece com `resultado` a cada iteração?', hint: 'resultado começa em 0. Depois: 0+1=1, 1+2=3, 3+3=6...' },
    ],
    options: ['15', '5', '0', '[1, 2, 3, 4, 5]'],
    correctAnswer: 0,
    explanation: {
      why: 'Loops existem para automatizar repetições.',
      whatFor: 'Processar qualquer quantidade de dados com o mesmo código.',
      how: '0+1=1, 1+2=3, 3+3=6, 6+4=10, 10+5=15.',
      commonMistakes: ['Esquecer de inicializar acumulador', 'Modificar lista durante iteração'],
      realWorldExample: 'Somar vendas do mês.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'for', 'acumulador'],
    xpReward: 75,
    professionalContext: 'Relatórios somam milhares de transações.',
    militaryApplication: 'Somar efetivo de todas as unidades.',
  },
  {
    id: 'py-loop-for-2',
    lessonId: 'py-loops-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nfor i in range(3):\n    for j in range(2):\n        print(f"{i},{j}", end=" ")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que significa ter um loop dentro de outro?', hint: 'Para cada valor de i, j percorre todos os seus valores.' },
      { level: 2, type: 'how', question: 'Quantas vezes o print é executado?', hint: '3 valores de i × 2 valores de j = 6 execuções.' },
    ],
    options: ['0,0 0,1 1,0 1,1 2,0 2,1', '0,0 1,1 2,2', '0,1 1,2 2,3', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Loops aninhados processam combinações/matrizes.',
      whatFor: 'Tabelas, grades, todas combinações possíveis.',
      how: 'i=0: j=0,1. i=1: j=0,1. i=2: j=0,1.',
      commonMistakes: ['Confundir qual loop é externo/interno', 'Esquecer que range(3) é 0,1,2'],
      realWorldExample: 'Processar matriz linha por linha.',
    },
    difficulty: 'intermediate',
    tags: ['loops', 'aninhado', 'range'],
    xpReward: 100,
    professionalContext: 'Tabelas pivot, análise de matriz.',
    militaryApplication: 'Grade de coordenadas: cada célula do mapa.',
  },
  {
    id: 'py-loop-for-3',
    lessonId: 'py-loops-1',
    type: 'code',
    question: 'Calcule o fatorial de n usando um loop. Fatorial de 5 = 5 × 4 × 3 × 2 × 1 = 120. Armazene em `fatorial`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que multiplicar em sequência?', hint: 'Fatorial é produto de todos números de n até 1.' },
      { level: 2, type: 'how', question: 'Como iterar de n até 1?', hint: 'range(n, 0, -1) ou range(1, n+1).' },
    ],
    starterCode: 'n = 5\nfatorial = 1\n# Complete o loop\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '120', description: 'fatorial deve ser 120' }],
    explanation: {
      why: 'Fatorial é base para cálculos de combinação/permutação.',
      whatFor: 'Probabilidade, estatística, análise combinatória.',
      how: 'fatorial = 1. Para i de 1 a n: fatorial *= i.',
      commonMistakes: ['Inicializar com 0 (multiplicar por 0 = 0)', 'Esquecer de incluir n no range'],
      realWorldExample: 'Calcular número de combinações possíveis.',
    },
    difficulty: 'intermediate',
    tags: ['loops', 'matemática', 'fatorial'],
    xpReward: 100,
    professionalContext: 'Base para cálculos estatísticos.',
    militaryApplication: 'Quantas formas de organizar patrulha de n soldados?',
  },
  {
    id: 'py-loop-while-1',
    lessonId: 'py-loops-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nx = 10\nwhile x > 0:\n    print(x, end=" ")\n    x = x - 3\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Quando while para de executar?', hint: 'Quando x <= 0.' },
      { level: 2, type: 'how', question: 'Quais valores de x são impressos?', hint: '10, 7, 4, 1. Depois x=-2 e para.' },
    ],
    options: ['10 7 4 1', '10 7 4 1 -2', '10 9 8 7 6 5 4 3 2 1', 'Loop infinito'],
    correctAnswer: 0,
    explanation: {
      why: 'While continua enquanto condição é True.',
      whatFor: 'Quando não sabemos quantas iterações precisamos.',
      how: 'x=10 (print), x=7 (print), x=4 (print), x=1 (print), x=-2 (para).',
      commonMistakes: ['Esquecer de atualizar a variável (loop infinito)', 'Condição errada'],
      realWorldExample: 'Processar até acabar o estoque.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'while', 'condição'],
    xpReward: 75,
    professionalContext: 'Consumir fila até esvaziar.',
    militaryApplication: 'Continuar busca enquanto há área não explorada.',
  },
  {
    id: 'py-loop-comp-1',
    lessonId: 'py-loops-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnumeros = [1, 2, 3, 4, 5]\ndobros = [x * 2 for x in numeros]\nprint(dobros)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que usar list comprehension ao invés de loop normal?', hint: 'Mais conciso e "Pythonic".' },
      { level: 2, type: 'how', question: 'O que a expressão "x * 2 for x in numeros" faz?', hint: 'Para cada x, calcula x*2 e coloca na lista.' },
    ],
    options: ['[2, 4, 6, 8, 10]', '[1, 2, 3, 4, 5, 1, 2, 3, 4, 5]', '10', '[1, 4, 9, 16, 25]'],
    correctAnswer: 0,
    explanation: {
      why: 'List comprehension é forma concisa de criar listas.',
      whatFor: 'Transformar, filtrar, criar listas de forma elegante.',
      how: '[expressão for item in iterável] aplica expressão a cada item.',
      commonMistakes: ['Esquecer os colchetes', 'Confundir ordem (expressão vem antes do for)'],
      realWorldExample: 'Converter todas temperaturas de C para F.',
    },
    difficulty: 'intermediate',
    tags: ['loops', 'comprehension', 'lista'],
    xpReward: 100,
    professionalContext: 'Transformar colunas de dados.',
    militaryApplication: 'Calcular distância para cada alvo: [dist(alvo) for alvo in alvos].',
  },
  {
    id: 'py-loop-comp-2',
    lessonId: 'py-loops-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnumeros = [1, 2, 3, 4, 5, 6]\npares = [x for x in numeros if x % 2 == 0]\nprint(pares)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que o "if" faz dentro da comprehension?', hint: 'Filtra: só inclui se condição for True.' },
      { level: 2, type: 'how', question: 'x % 2 == 0 verifica o quê?', hint: 'Se x é divisível por 2 (par).' },
    ],
    options: ['[2, 4, 6]', '[1, 3, 5]', '[1, 2, 3, 4, 5, 6]', '[0, 0, 0]'],
    correctAnswer: 0,
    explanation: {
      why: 'Comprehension com filtro é forma concisa de selecionar elementos.',
      whatFor: 'Filtrar dados sem criar variáveis intermediárias.',
      how: '[x for x in lista if condição] inclui x apenas se condição True.',
      commonMistakes: ['Posição errada do if', 'Confundir com if-else (que vem antes do for)'],
      realWorldExample: 'Filtrar transações acima de certo valor.',
    },
    difficulty: 'intermediate',
    tags: ['loops', 'comprehension', 'filtro'],
    xpReward: 100,
    professionalContext: 'emails_validos = [e for e in emails if "@" in e].',
    militaryApplication: 'alvos_prioritarios = [a for a in alvos if a.ameaca > 7].',
  },

  // ============================================
  // MÓDULO 4: ESTRUTURAS DE DADOS (45 exercícios)
  // ============================================
  {
    id: 'py-struct-list-1',
    lessonId: 'py-struct-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nlista = [10, 20, 30, 40, 50]\nprint(lista[1])\nprint(lista[-1])\nprint(lista[1:4])\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que índices começam em 0?', hint: 'Convenção da maioria das linguagens.' },
      { level: 2, type: 'how', question: 'O que índice negativo significa?', hint: 'Conta de trás para frente. -1 é o último.' },
    ],
    options: ['20\\n50\\n[20, 30, 40]', '10\\n50\\n[20, 30, 40]', '20\\n40\\n[10, 20, 30, 40]', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Índices permitem acessar elementos específicos.',
      whatFor: 'Selecionar, modificar, fatiar dados.',
      how: 'lista[1]=20. lista[-1]=50. lista[1:4] inclui índices 1,2,3.',
      commonMistakes: ['Pensar que índice 1 é o primeiro', 'Esquecer que slice exclui o último índice'],
      realWorldExample: 'Últimos 3 meses de vendas: vendas[-3:].',
    },
    difficulty: 'beginner',
    tags: ['lista', 'índice', 'slice'],
    xpReward: 75,
    professionalContext: 'Séries temporais: acessar períodos específicos.',
    militaryApplication: 'Últimas 5 posições reportadas: posicoes[-5:].',
  },
  {
    id: 'py-struct-list-2',
    lessonId: 'py-struct-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nlista = [3, 1, 4, 1, 5]\nlista.append(9)\nlista.sort()\nprint(lista)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'append() retorna algo ou modifica a lista?', hint: 'Modifica a lista original (in-place).' },
      { level: 2, type: 'how', question: 'sort() ordena crescente ou decrescente?', hint: 'Crescente por padrão. Use reverse=True para decrescente.' },
    ],
    options: ['[1, 1, 3, 4, 5, 9]', '[3, 1, 4, 1, 5, 9]', '[9, 5, 4, 3, 1, 1]', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Métodos de lista modificam a lista original.',
      whatFor: 'Construir e organizar coleções de dados.',
      how: 'append adiciona 9. sort ordena crescente.',
      commonMistakes: ['Fazer lista = lista.append() (append retorna None)', 'Confundir sort() com sorted()'],
      realWorldExample: 'Adicionar nova venda e reordenar ranking.',
    },
    difficulty: 'beginner',
    tags: ['lista', 'métodos', 'append', 'sort'],
    xpReward: 75,
    professionalContext: 'Manter lista de transações ordenada.',
    militaryApplication: 'Ordenar alvos por prioridade.',
  },
  {
    id: 'py-struct-dict-1',
    lessonId: 'py-struct-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\npessoa = {"nome": "Ana", "idade": 25}\npessoa["cidade"] = "SP"\nprint(pessoa.get("cargo", "N/A"))\nprint(len(pessoa))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que usar get() ao invés de pessoa["cargo"]?', hint: 'get() retorna valor padrão se chave não existe.' },
      { level: 2, type: 'how', question: 'Quantas chaves tem o dicionário no final?', hint: 'nome, idade + cidade adicionada = 3.' },
    ],
    options: ['N/A\\n3', 'Erro\\n3', 'None\\n3', 'N/A\\n2'],
    correctAnswer: 0,
    explanation: {
      why: 'get() é seguro para acessar chaves que podem não existir.',
      whatFor: 'Evitar erros ao processar dados incompletos.',
      how: 'get("cargo", "N/A") retorna "N/A" porque cargo não existe.',
      commonMistakes: ['Usar [] com chave inexistente (gera KeyError)', 'Esquecer de adicionar chaves novas'],
      realWorldExample: 'Dados de API podem ter campos opcionais.',
    },
    difficulty: 'beginner',
    tags: ['dicionário', 'get', 'chave'],
    xpReward: 75,
    professionalContext: 'JSONs de APIs frequentemente têm campos opcionais.',
    militaryApplication: 'Ficha de soldado: get("especialidade", "Infantaria").',
  },
  {
    id: 'py-struct-dict-2',
    lessonId: 'py-struct-3',
    type: 'code',
    question: 'Dado o dicionário de vendas por região, calcule o total de vendas. Armazene em `total`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Como iterar sobre valores de um dicionário?', hint: 'dict.values() retorna apenas os valores.' },
      { level: 2, type: 'how', question: 'Como somar todos os valores?', hint: 'sum(dict.values()) ou loop acumulador.' },
    ],
    starterCode: 'vendas = {"Norte": 15000, "Sul": 22000, "Leste": 18000, "Oeste": 12000}\n# Calcule o total\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '67000', description: 'total deve ser 67000' }],
    explanation: {
      why: 'Dicionários são ótimos para dados categorizados.',
      whatFor: 'Agregações por categoria são operação comum.',
      how: 'sum(vendas.values()) soma todos os valores.',
      commonMistakes: ['Tentar somar o dicionário diretamente', 'Esquecer .values()'],
      realWorldExample: 'Total de vendas por filial.',
    },
    difficulty: 'beginner',
    tags: ['dicionário', 'values', 'soma'],
    xpReward: 75,
    professionalContext: 'Consolidar métricas de diferentes fontes.',
    militaryApplication: 'Total de efetivo: sum(unidades.values()).',
  },

  // ============================================
  // MÓDULO 5: FUNÇÕES (40 exercícios)
  // ============================================
  {
    id: 'py-func-def-1',
    lessonId: 'py-func-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndef saudacao(nome):\n    return f"Olá, {nome}!"\n\nmsg = saudacao("Maria")\nprint(msg)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que "return" faz?', hint: 'Envia o resultado de volta para onde a função foi chamada.' },
      { level: 2, type: 'how', question: 'O que é atribuído a msg?', hint: 'O valor que a função retorna.' },
    ],
    options: ['Olá, Maria!', 'saudacao("Maria")', 'None', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Funções encapsulam lógica reutilizável.',
      whatFor: 'Evitar repetição, organizar código, facilitar testes.',
      how: 'def define, parâmetros recebem valores, return devolve resultado.',
      commonMistakes: ['Esquecer o return (retorna None)', 'Confundir parâmetro com argumento'],
      realWorldExample: 'Função de formatação usada em todo o sistema.',
    },
    difficulty: 'beginner',
    tags: ['função', 'def', 'return'],
    xpReward: 75,
    professionalContext: 'Padronizar formatação de mensagens.',
    militaryApplication: 'Função de briefing padronizado.',
  },
  {
    id: 'py-func-def-2',
    lessonId: 'py-func-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndef potencia(base, exp=2):\n    return base ** exp\n\nprint(potencia(3))\nprint(potencia(2, 3))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que é exp=2 na definição?', hint: 'Valor padrão: se não passar exp, usa 2.' },
      { level: 2, type: 'how', question: 'Na primeira chamada, qual é exp?', hint: '2 (padrão). Na segunda, 3 (passado explicitamente).' },
    ],
    options: ['9\\n8', '6\\n6', '9\\n6', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Valores padrão permitem flexibilidade sem repetição.',
      whatFor: 'Criar funções versáteis com comportamento padrão sensato.',
      how: 'potencia(3) = 3**2 = 9. potencia(2,3) = 2**3 = 8.',
      commonMistakes: ['Parâmetros com default devem vir depois dos sem', 'Usar objeto mutável como default'],
      realWorldExample: 'Função de desconto com taxa padrão.',
    },
    difficulty: 'beginner',
    tags: ['função', 'parâmetros', 'default'],
    xpReward: 75,
    professionalContext: 'API com parâmetros opcionais.',
    militaryApplication: 'Função de alerta com nível padrão.',
  },
  {
    id: 'py-func-scope-1',
    lessonId: 'py-func-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nx = 10\n\ndef mudar():\n    x = 20\n    print(x)\n\nmudar()\nprint(x)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'x dentro da função é o mesmo x de fora?', hint: 'Não! x = 20 cria variável LOCAL.' },
      { level: 2, type: 'how', question: 'O x global é modificado?', hint: 'Não. O x dentro da função é diferente.' },
    ],
    options: ['20\\n10', '20\\n20', '10\\n10', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Escopo protege variáveis de modificações acidentais.',
      whatFor: 'Funções isoladas não interferem no resto do código.',
      how: 'x=20 dentro cria variável local. x global continua 10.',
      commonMistakes: ['Pensar que modifica variável global', 'Usar global sem necessidade'],
      realWorldExample: 'Cada função tem suas próprias variáveis.',
    },
    difficulty: 'intermediate',
    tags: ['função', 'escopo', 'local', 'global'],
    xpReward: 100,
    professionalContext: 'Evitar efeitos colaterais em código complexo.',
    militaryApplication: 'Cada operação tem seus próprios parâmetros isolados.',
  },

  // ============================================
  // MÓDULO 6: PANDAS INTRO (35 exercícios)
  // ============================================
  {
    id: 'pd-intro-series-1',
    lessonId: 'pd-intro-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ns = pd.Series([10, 20, 30], index=["a", "b", "c"])\nprint(s["b"])\nprint(s.sum())\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que Series tem índice customizado?', hint: 'Para acessar por nome significativo, não só posição.' },
      { level: 2, type: 'how', question: 'sum() soma os valores ou os índices?', hint: 'Os valores: 10 + 20 + 30.' },
    ],
    options: ['20\\n60', 'b\\n60', '20\\n6', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Series é array com índice, base do Pandas.',
      whatFor: 'Acessar dados por nome, aplicar operações vetorizadas.',
      how: 's["b"] = 20. sum() = 10+20+30 = 60.',
      commonMistakes: ['Confundir índice com posição', 'Esquecer que Series tem métodos estatísticos'],
      realWorldExample: 'Vendas por mês com índice de meses.',
    },
    difficulty: 'beginner',
    tags: ['pandas', 'series', 'índice'],
    xpReward: 75,
    professionalContext: 'Séries temporais de métricas.',
    militaryApplication: 'Efetivo por unidade com índice de código.',
  },
  {
    id: 'pd-intro-df-1',
    lessonId: 'pd-intro-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "A": [1, 2, 3],\n    "B": [4, 5, 6]\n})\nprint(df.shape)\nprint(df["A"].mean())\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que shape retorna?', hint: '(linhas, colunas) - dimensões do DataFrame.' },
      { level: 2, type: 'how', question: 'df["A"] retorna o quê?', hint: 'Uma Series com os valores da coluna A.' },
    ],
    options: ['(3, 2)\\n2.0', '(2, 3)\\n2.0', '(3, 2)\\n6', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'DataFrame é tabela 2D com linhas e colunas.',
      whatFor: 'Estrutura central do Pandas para dados tabulares.',
      how: 'shape = (3 linhas, 2 colunas). mean([1,2,3]) = 2.0.',
      commonMistakes: ['Confundir ordem de shape', 'Esquecer que df["col"] retorna Series'],
      realWorldExample: 'Verificar dimensões de dataset carregado.',
    },
    difficulty: 'beginner',
    tags: ['pandas', 'dataframe', 'shape', 'mean'],
    xpReward: 75,
    professionalContext: 'Verificar tamanho de datasets.',
    militaryApplication: 'Quantas entradas de log, quantos campos.',
  },

  // ============================================
  // MÓDULO 7: PANDAS MANIPULAÇÃO (50 exercícios)
  // ============================================
  {
    id: 'pd-manip-loc-1',
    lessonId: 'pd-manip-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "nome": ["Ana", "Carlos", "Maria"],\n    "vendas": [15000, 12000, 18000]\n})\nresultado = df.loc[df["vendas"] > 13000, "nome"]\nprint(resultado.tolist())\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que df["vendas"] > 13000 retorna?', hint: 'Uma Series de True/False para cada linha.' },
      { level: 2, type: 'how', question: 'O que loc[condição, "nome"] faz?', hint: 'Retorna coluna "nome" apenas onde condição é True.' },
    ],
    options: ["['Ana', 'Maria']", "['Carlos']", "['Ana', 'Carlos', 'Maria']", 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'loc permite filtrar linhas E selecionar colunas.',
      whatFor: 'Extrair exatamente os dados necessários.',
      how: 'Ana (15k > 13k ✓) e Maria (18k > 13k ✓).',
      commonMistakes: ['Esquecer parênteses na condição', 'Confundir loc com iloc'],
      realWorldExample: 'Nomes de vendedores acima da meta.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'loc', 'filtro'],
    xpReward: 100,
    professionalContext: 'Relatórios filtrados por critérios.',
    militaryApplication: 'Lista de unidades acima de certo efetivo.',
  },
  {
    id: 'pd-manip-filter-1',
    lessonId: 'pd-manip-2',
    type: 'code',
    question: 'Dado um DataFrame `df` com as colunas "nome", "idade" e "salario", filtre apenas os funcionários com salário maior que 5000 E idade menor que 30.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que precisamos combinar duas condições aqui?', hint: 'Queremos funcionários que atendam AMBOS os critérios.' },
      { level: 2, type: 'how', question: 'Em Pandas, como combinamos condições?', hint: 'Use & para "E", cada condição entre parênteses.' },
    ],
    starterCode: 'import pandas as pd\n\ndf = pd.DataFrame({\n    "nome": ["Ana", "Carlos", "Maria", "João"],\n    "idade": [25, 35, 28, 42],\n    "salario": [6000, 8000, 4500, 7000]\n})\n\n# Filtre\nresultado = ',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '', description: 'Deve retornar Ana e Maria' }],
    explanation: {
      why: 'Filtros combinados são essenciais em análise.',
      whatFor: 'Segmentar dados por múltiplos critérios.',
      how: 'df[(df["salario"] > 5000) & (df["idade"] < 30)].',
      commonMistakes: ['Usar "and" ao invés de "&"', 'Esquecer parênteses'],
      realWorldExample: 'Candidatos qualificados: experiência E formação.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'filtro', 'booleano'],
    xpReward: 100,
    professionalContext: 'Segmentação de público-alvo.',
    militaryApplication: 'Seleção: patente >= X AND especialidade == Y.',
  },

  // ============================================
  // MÓDULO 8: PANDAS ANÁLISE (40 exercícios)
  // ============================================
  {
    id: 'pd-analysis-groupby-1',
    lessonId: 'pd-analysis-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "regiao": ["Sul", "Norte", "Sul", "Norte"],\n    "vendas": [100, 200, 150, 180]\n})\nresultado = df.groupby("regiao")["vendas"].sum()\nprint(resultado["Sul"])\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que groupby faz?', hint: 'Agrupa linhas pelo valor de uma coluna.' },
      { level: 2, type: 'how', question: 'sum() é aplicado a quê?', hint: 'À coluna "vendas" de cada grupo.' },
    ],
    options: ['250', '100', '380', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'GroupBy permite agregar por categoria.',
      whatFor: 'Relatórios por região, período, categoria.',
      how: 'Sul: 100 + 150 = 250.',
      commonMistakes: ['Esquecer de selecionar coluna de valor', 'Confundir resultado com DataFrame'],
      realWorldExample: 'Total de vendas por filial.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'groupby', 'agregação'],
    xpReward: 100,
    professionalContext: 'Dashboard de métricas por segmento.',
    militaryApplication: 'Efetivo total por região operacional.',
  },

  // ============================================
  // MÓDULO 9: PANDAS AVANÇADO (30 exercícios)
  // ============================================
  {
    id: 'pd-adv-merge-1',
    lessonId: 'pd-adv-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf1 = pd.DataFrame({"id": [1, 2], "nome": ["Ana", "Carlos"]})\ndf2 = pd.DataFrame({"id": [1, 3], "vendas": [100, 200]})\nresultado = pd.merge(df1, df2, on="id", how="inner")\nprint(len(resultado))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que "inner" join retorna?', hint: 'Apenas linhas com match em AMBOS DataFrames.' },
      { level: 2, type: 'how', question: 'Qual id existe em ambos?', hint: 'id=1 existe em df1 e df2. id=2 só df1. id=3 só df2.' },
    ],
    options: ['1', '2', '3', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Inner join retorna interseção.',
      whatFor: 'Combinar apenas registros completos.',
      how: 'Só id=1 existe em ambos = 1 linha.',
      commonMistakes: ['Confundir tipos de join', 'Não verificar chaves duplicadas'],
      realWorldExample: 'Pedidos com dados de cliente (só pedidos de clientes cadastrados).',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'merge', 'join'],
    xpReward: 125,
    professionalContext: 'Cruzar vendas com cadastro de clientes.',
    militaryApplication: 'Cruzar missões com pessoal disponível.',
  },

  // ============================================
  // INGLÊS TÉCNICO (30 exercícios)
  // ============================================
  {
    id: 'eng-read-vocab-1',
    lessonId: 'eng-read-1',
    type: 'output-prediction',
    question: 'What does "deprecated" mean in technical documentation?',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que software marca coisas como deprecated?', hint: 'Para avisar que será removido em versões futuras.' },
    ],
    options: [
      'New and recommended feature',
      'Feature that will be removed in future versions',
      'Critical bug in the code',
      'Performance optimization'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Deprecated indica funcionalidade em desuso.',
      whatFor: 'Evitar usar código que será removido.',
      how: 'Procure alternativa recomendada na documentação.',
      commonMistakes: ['Ignorar avisos de deprecation', 'Confundir com "broken"'],
      realWorldExample: 'pandas.DataFrame.append é deprecated, use pd.concat.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'vocabulário', 'documentação'],
    xpReward: 50,
    professionalContext: 'Manter código atualizado.',
    militaryApplication: 'Equipamento deprecated = será substituído.',
  },
  {
    id: 'eng-read-vocab-2',
    lessonId: 'eng-read-1',
    type: 'output-prediction',
    question: 'In the phrase "This method returns a boolean indicating whether the operation was successful", what does "returns" mean?',
    socraticHints: [
      { level: 1, type: 'how', question: 'O que uma função faz quando termina?', hint: 'Devolve (returns) um resultado.' },
    ],
    options: [
      'Recebe como entrada',
      'Devolve/retorna como saída',
      'Armazena internamente',
      'Imprime na tela'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Returns indica o output da função.',
      whatFor: 'Saber o que esperar ao chamar a função.',
      how: 'Seção "Returns" da documentação explica o tipo/valor retornado.',
      commonMistakes: ['Confundir return com print', 'Não verificar tipo de retorno'],
      realWorldExample: 'len() returns an integer.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'vocabulário', 'função'],
    xpReward: 50,
    professionalContext: 'Ler documentação de APIs.',
    militaryApplication: 'Relatório "returns" status da missão.',
  },
  {
    id: 'eng-pattern-cond-1',
    lessonId: 'eng-pattern-2',
    type: 'output-prediction',
    question: 'What does "unless otherwise specified" mean?',
    socraticHints: [
      { level: 1, type: 'how', question: '"Unless" é similar a qual palavra?', hint: 'Exceto se, a menos que.' },
    ],
    options: [
      'Always do this',
      'Never do this',
      'Except if stated differently',
      'Only in special cases'
    ],
    correctAnswer: 2,
    explanation: {
      why: 'Padrão comum para indicar comportamento default.',
      whatFor: 'Entender quando padrão se aplica.',
      how: '"Unless X" = "Exceto se X for verdade".',
      commonMistakes: ['Confundir unless com if', 'Não perceber que é comportamento padrão'],
      realWorldExample: 'The default port is 8080 unless otherwise specified.',
    },
    difficulty: 'intermediate',
    tags: ['inglês', 'padrões', 'condicional'],
    xpReward: 75,
    professionalContext: 'Configurações com defaults.',
    militaryApplication: 'Procedimento padrão unless comandante ordene diferente.',
  },

  // ============================================
  // EXPANSÃO: MAIS EXERCÍCIOS FUNDAMENTOS (30+)
  // ============================================
  {
    id: 'py-fund-var-7',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\na = 5\nb = a\na = a + 3\nprint(a + b)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Quando b = a, b recebe o valor ou uma referência?', hint: 'Para inteiros, b recebe uma CÓPIA do valor.' },
      { level: 2, type: 'how', question: 'a muda para 8, mas b continua quanto?', hint: 'b continua 5 (valor original copiado).' },
      { level: 3, type: 'how', question: 'Então a + b = ?', hint: '8 + 5 = 13.' },
    ],
    options: ['13', '16', '10', '8'],
    correctAnswer: 0,
    explanation: {
      why: 'Entender cópia de valores é fundamental para evitar bugs.',
      whatFor: 'Saber que alterar uma variável não afeta cópias já feitas.',
      how: 'b = a copia 5 para b. a += 3 faz a = 8. a + b = 8 + 5 = 13.',
      commonMistakes: ['Pensar que b acompanha mudanças em a', 'Confundir com comportamento de listas'],
      realWorldExample: 'Backup de saldo antes de transação.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'atribuição', 'cópia'],
    xpReward: 50,
    professionalContext: 'Sistemas financeiros guardam histórico de valores.',
    militaryApplication: 'Posição anterior salva antes de atualizar posição atual.',
  },
  {
    id: 'py-fund-var-8',
    lessonId: 'py-fund-2',
    type: 'code',
    question: 'Troque os valores de duas variáveis `a` e `b` sem usar uma terceira variável. Dica: Python permite atribuição múltipla.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que trocar valores é operação comum?', hint: 'Ordenação, reorganização de dados.' },
      { level: 2, type: 'how', question: 'Python permite a, b = b, a. Por quê funciona?', hint: 'O lado direito é avaliado primeiro, depois atribuído.' },
    ],
    starterCode: 'a = 10\nb = 20\n# Troque os valores\n\nprint(a, b)  # Deve imprimir: 20 10',
    expectedOutput: '20 10',
    testCases: [{ input: '', expectedOutput: '20 10', description: 'a deve ser 20 e b deve ser 10' }],
    explanation: {
      why: 'Troca de valores é base para algoritmos de ordenação.',
      whatFor: 'Reorganizar dados sem perder informação.',
      how: 'a, b = b, a faz a troca em uma linha.',
      commonMistakes: ['Tentar a = b; b = a (perde valor original de a)', 'Usar temp quando não precisa'],
      realWorldExample: 'Ordenar lista trocando elementos fora de ordem.',
    },
    difficulty: 'beginner',
    tags: ['variáveis', 'atribuição', 'swap'],
    xpReward: 75,
    professionalContext: 'Algoritmos de ordenação usam swap.',
    militaryApplication: 'Troca de posições em formação.',
  },
  {
    id: 'py-fund-var-9',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nx, y, z = 1, 2, 3\nprint(y)\nx, y = y, x + y\nprint(y)\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'Na primeira linha, cada variável recebe qual valor?', hint: 'x=1, y=2, z=3.' },
      { level: 2, type: 'how', question: 'Na atribuição múltipla, o lado direito é avaliado primeiro. y=2 e x+y=?', hint: 'y recebe x antigo (1) + y antigo (2) = 3.' },
    ],
    options: ['2\\n3', '2\\n2', '1\\n3', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Atribuição múltipla avalia tudo antes de atribuir.',
      whatFor: 'Operações simultâneas como Fibonacci.',
      how: 'Primeiro print: y=2. Depois x,y = 2,3. Segundo print: y=3.',
      commonMistakes: ['Pensar que x muda antes de calcular x+y', 'Confundir ordem'],
      realWorldExample: 'Cálculo de Fibonacci: a, b = b, a + b.',
    },
    difficulty: 'intermediate',
    tags: ['variáveis', 'atribuição', 'múltipla'],
    xpReward: 75,
    professionalContext: 'Sequência Fibonacci em finanças.',
    militaryApplication: 'Rotação de turnos simultânea.',
  },
  {
    id: 'py-fund-str-1',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ntexto = "Python"\nprint(texto[0])\nprint(texto[-1])\nprint(texto[1:4])\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Strings são sequências. O que isso significa?', hint: 'Cada caractere tem uma posição (índice).' },
      { level: 2, type: 'how', question: 'Índice 0 é o primeiro. E -1?', hint: '-1 é o último caractere.' },
    ],
    options: ['P\\nn\\nyth', 'P\\nn\\nytho', 'P\\no\\nyth', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Strings são sequências indexáveis.',
      whatFor: 'Extrair partes de texto: iniciais, extensões, códigos.',
      how: 'texto[0]="P", texto[-1]="n", texto[1:4]="yth" (índices 1,2,3).',
      commonMistakes: ['Pensar que índice 1 é o primeiro', 'Esquecer que slice exclui último índice'],
      realWorldExample: 'Extrair extensão: nome_arquivo[-3:].',
    },
    difficulty: 'beginner',
    tags: ['strings', 'índice', 'slice'],
    xpReward: 50,
    professionalContext: 'Parsing de códigos, CPFs, telefones.',
    militaryApplication: 'Extrair código de unidade de identificador militar.',
  },
  {
    id: 'py-fund-str-2',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnome = "ana"\nprint(nome.upper())\nprint(nome.capitalize())\nprint(nome.replace("a", "o"))\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'upper() faz o quê?', hint: 'Converte para maiúsculas.' },
      { level: 2, type: 'how', question: 'replace substitui todas as ocorrências?', hint: 'Sim, todas por padrão.' },
    ],
    options: ['ANA\\nAna\\nono', 'ana\\nAna\\nono', 'ANA\\nANA\\nano', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Métodos de string são essenciais para limpeza de dados.',
      whatFor: 'Padronizar textos, normalizar entradas.',
      how: 'upper="ANA", capitalize="Ana", replace("a","o")="ono".',
      commonMistakes: ['Esquecer que strings são imutáveis (métodos retornam nova string)'],
      realWorldExample: 'Normalizar emails para lowercase.',
    },
    difficulty: 'beginner',
    tags: ['strings', 'métodos'],
    xpReward: 50,
    professionalContext: 'Limpeza de dados de formulários.',
    militaryApplication: 'Padronizar códigos para upper case.',
  },
  {
    id: 'py-fund-str-3',
    lessonId: 'py-fund-2',
    type: 'code',
    question: 'Dado um CPF no formato "12345678901", formate-o como "123.456.789-01".',
    socraticHints: [
      { level: 1, type: 'how', question: 'Como acessar partes da string?', hint: 'Usando slice: cpf[0:3], cpf[3:6], etc.' },
      { level: 2, type: 'how', question: 'Como juntar as partes com pontos e traço?', hint: 'Concatenação: parte1 + "." + parte2...' },
    ],
    starterCode: 'cpf = "12345678901"\n# Formate o CPF\ncpf_formatado = ',
    expectedOutput: '123.456.789-01',
    testCases: [{ input: '', expectedOutput: '123.456.789-01', description: 'CPF formatado corretamente' }],
    explanation: {
      why: 'Formatação é comum ao exibir dados para usuários.',
      whatFor: 'Melhorar legibilidade de códigos e identificadores.',
      how: 'cpf[0:3] + "." + cpf[3:6] + "." + cpf[6:9] + "-" + cpf[9:11].',
      commonMistakes: ['Índices errados', 'Esquecer o traço antes dos dois últimos'],
      realWorldExample: 'Formatação de documentos em sistemas.',
    },
    difficulty: 'beginner',
    tags: ['strings', 'slice', 'formatação'],
    xpReward: 75,
    professionalContext: 'Exibição de documentos em interfaces.',
    militaryApplication: 'Formatação de números de registro militar.',
  },
  {
    id: 'py-fund-str-4',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nfrase = "  Python é legal  "\nprint(len(frase))\nprint(len(frase.strip()))\nprint(frase.strip())\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'strip() remove o quê?', hint: 'Espaços em branco no início e fim.' },
      { level: 2, type: 'how', question: 'Quantos caracteres são removidos?', hint: 'Original tem 18. Strip remove 4 espaços (2 de cada lado).' },
    ],
    options: ['18\\n14\\nPython é legal', '18\\n18\\n  Python é legal  ', '14\\n14\\nPython é legal', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Dados externos frequentemente têm espaços extras.',
      whatFor: 'Limpar inputs de usuário, dados de arquivos.',
      how: 'strip() remove espaços das pontas, não do meio.',
      commonMistakes: ['Pensar que strip remove todos os espaços', 'Não aplicar antes de comparações'],
      realWorldExample: 'Limpar emails antes de validar.',
    },
    difficulty: 'beginner',
    tags: ['strings', 'strip', 'limpeza'],
    xpReward: 50,
    professionalContext: 'Limpeza de dados de inputs.',
    militaryApplication: 'Padronizar mensagens recebidas por rádio.',
  },
  {
    id: 'py-fund-str-5',
    lessonId: 'py-fund-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnome = "Python"\nprint(f"Eu amo {nome}!")\nprint(f"{nome} tem {len(nome)} letras")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que são f-strings?', hint: 'Strings formatadas que permitem inserir expressões.' },
      { level: 2, type: 'how', question: 'Dentro das {} pode ter expressões?', hint: 'Sim! len(nome) é avaliado e inserido.' },
    ],
    options: ['Eu amo Python!\\nPython tem 6 letras', 'Eu amo {nome}!\\nPython tem 6 letras', 'Erro', 'Eu amo Python!\\nPython tem {len(nome)} letras'],
    correctAnswer: 0,
    explanation: {
      why: 'F-strings são forma moderna e legível de formatar.',
      whatFor: 'Criar mensagens dinâmicas, relatórios.',
      how: 'f"..." com {} para inserir variáveis/expressões.',
      commonMistakes: ['Esquecer o f antes das aspas', 'Usar + ao invés de f-string'],
      realWorldExample: 'Logs: f"Usuário {user} fez {acao}".',
    },
    difficulty: 'beginner',
    tags: ['strings', 'f-string', 'formatação'],
    xpReward: 50,
    professionalContext: 'Geração de mensagens personalizadas.',
    militaryApplication: 'Relatórios: f"Unidade {codigo} em posição {coord}".',
  },

  // ============================================
  // EXPANSÃO: MAIS EXERCÍCIOS LÓGICA (30+)
  // ============================================
  {
    id: 'py-logic-cond-4',
    lessonId: 'py-logic-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nvalor = 0\nif valor:\n    print("Truthy")\nelse:\n    print("Falsy")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que acontece quando usamos um número em if?', hint: 'É convertido para boolean.' },
      { level: 2, type: 'how', question: 'Qual número é considerado False?', hint: 'Zero é False, qualquer outro é True.' },
    ],
    options: ['Falsy', 'Truthy', '0', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Python usa truthy/falsy para qualquer valor em condições.',
      whatFor: 'Código mais conciso: if lista: (ao invés de if len(lista) > 0:).',
      how: '0, None, "", [], {} são falsy. Outros são truthy.',
      commonMistakes: ['Não saber que 0 é falsy', 'Confundir com string "0" (que é truthy)'],
      realWorldExample: 'if saldo: (verifica se há saldo).',
    },
    difficulty: 'beginner',
    tags: ['condicionais', 'truthy', 'falsy'],
    xpReward: 50,
    professionalContext: 'Validação de dados antes de processamento.',
    militaryApplication: 'if municao: (há munição disponível?).',
  },
  {
    id: 'py-logic-cond-5',
    lessonId: 'py-logic-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nx = 5\nresultado = "par" if x % 2 == 0 else "ímpar"\nprint(resultado)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que é essa estrutura com if e else na mesma linha?', hint: 'Operador ternário: valor_se_true if condição else valor_se_false.' },
      { level: 2, type: 'how', question: '5 % 2 é igual a 0?', hint: '5 % 2 = 1, então é False.' },
    ],
    options: ['ímpar', 'par', '5', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Operador ternário deixa código mais conciso.',
      whatFor: 'Atribuição condicional em uma linha.',
      how: '5 % 2 = 1, não é 0, então resultado = "ímpar".',
      commonMistakes: ['Confundir ordem (valor_true vem primeiro)', 'Usar quando lógica é complexa'],
      realWorldExample: 'status = "ativo" if usuario.ativo else "inativo".',
    },
    difficulty: 'beginner',
    tags: ['condicionais', 'ternário'],
    xpReward: 75,
    professionalContext: 'Definir status baseado em condição.',
    militaryApplication: 'prioridade = "alta" if ameaca > 7 else "baixa".',
  },
  {
    id: 'py-logic-cond-6',
    lessonId: 'py-logic-1',
    type: 'code',
    question: 'Dado um número, classifique-o como "positivo", "negativo" ou "zero". Armazene em `classificacao`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Quantos casos diferentes existem?', hint: 'Três: maior que zero, menor que zero, igual a zero.' },
      { level: 2, type: 'how', question: 'Como verificar se é igual a zero?', hint: 'numero == 0 (dois sinais de igual).' },
    ],
    starterCode: 'numero = -5\n# Classifique\n',
    expectedOutput: 'negativo',
    testCases: [{ input: '', expectedOutput: 'negativo', description: 'classificacao deve ser "negativo"' }],
    explanation: {
      why: 'Classificação em categorias é operação básica.',
      whatFor: 'Separar dados por características.',
      how: 'if numero > 0 elif numero < 0 else.',
      commonMistakes: ['Esquecer o caso zero', 'Usar = ao invés de =='],
      realWorldExample: 'Classificar transações como entrada/saída.',
    },
    difficulty: 'beginner',
    tags: ['condicionais', 'classificação'],
    xpReward: 50,
    professionalContext: 'Análise de lucros e prejuízos.',
    militaryApplication: 'Direção: avanço, recuo ou posição mantida.',
  },
  {
    id: 'py-logic-cond-7',
    lessonId: 'py-logic-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\na = 5\nb = 5\nprint(a == b)\nprint(a is b)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Qual a diferença entre == e is?', hint: '== compara valor, is compara identidade (mesmo objeto).' },
      { level: 2, type: 'how', question: 'Para inteiros pequenos, Python reutiliza objetos?', hint: 'Sim, Python otimiza inteiros de -5 a 256.' },
    ],
    options: ['True\\nTrue', 'True\\nFalse', 'False\\nTrue', 'False\\nFalse'],
    correctAnswer: 0,
    explanation: {
      why: 'Entender == vs is evita bugs sutis.',
      whatFor: 'Comparar valores (==) ou verificar se é mesmo objeto (is).',
      how: 'Valores iguais = True. Inteiros pequenos são mesmo objeto (otimização).',
      commonMistakes: ['Usar is para comparar valores', 'Não saber do caching de inteiros'],
      realWorldExample: 'Verificar None: if x is None.',
    },
    difficulty: 'intermediate',
    tags: ['condicionais', 'comparação', 'identidade'],
    xpReward: 100,
    professionalContext: 'Verificar None em dados faltantes.',
    militaryApplication: 'Verificar se é exatamente o mesmo equipamento.',
  },
  {
    id: 'py-logic-cond-8',
    lessonId: 'py-logic-1',
    type: 'code',
    question: 'Implemente um sistema de notas: A (>=90), B (>=80), C (>=70), D (>=60), F (<60). Armazene a letra em `conceito`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que usar elif e não if separados?', hint: 'Com elif, para na primeira condição verdadeira.' },
      { level: 2, type: 'how', question: 'Por que verificar >= 90 primeiro?', hint: 'Se começar por >= 60, nota 95 seria D!' },
    ],
    starterCode: 'nota = 85\n# Determine o conceito\n',
    expectedOutput: 'B',
    testCases: [{ input: '', expectedOutput: 'B', description: 'conceito deve ser "B"' }],
    explanation: {
      why: 'Faixas mutuamente exclusivas requerem elif.',
      whatFor: 'Classificação em categorias ordenadas.',
      how: 'Verificar de maior para menor para pegar a faixa correta.',
      commonMistakes: ['Usar if separados (múltiplas condições verdadeiras)', 'Ordem errada de verificação'],
      realWorldExample: 'Classificação de crédito por score.',
    },
    difficulty: 'beginner',
    tags: ['condicionais', 'classificação', 'faixas'],
    xpReward: 75,
    professionalContext: 'Rating de clientes.',
    militaryApplication: 'Nível de prontidão por % de efetivo.',
  },
  {
    id: 'py-logic-op-4',
    lessonId: 'py-logic-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nprint(True and "Python")\nprint(False or "Default")\nprint("" or "Vazio")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'and/or retornam True/False?', hint: 'Não! Retornam o valor que determinou o resultado.' },
      { level: 2, type: 'how', question: 'True and X retorna?', hint: 'Se True, resultado depende de X. Retorna X.' },
    ],
    options: ['Python\\nDefault\\nVazio', 'True\\nTrue\\nTrue', 'True\\nDefault\\nVazio', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Short-circuit evaluation retorna o valor determinante.',
      whatFor: 'Definir valores padrão: nome = input or "Anônimo".',
      how: 'and retorna primeiro falsy ou último. or retorna primeiro truthy.',
      commonMistakes: ['Pensar que sempre retorna boolean', 'Não usar para defaults'],
      realWorldExample: 'usuario = dados.get("nome") or "Visitante".',
    },
    difficulty: 'advanced',
    tags: ['operadores', 'short-circuit', 'truthy'],
    xpReward: 125,
    professionalContext: 'Valores padrão em configurações.',
    militaryApplication: 'canal = canal_principal or canal_backup.',
  },
  {
    id: 'py-logic-op-5',
    lessonId: 'py-logic-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnumero = 15\nif numero >= 10 and numero <= 20:\n    print("Dentro")\nif 10 <= numero <= 20:\n    print("Também dentro")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'As duas condições são equivalentes?', hint: 'Sim! Python permite comparações encadeadas.' },
      { level: 2, type: 'how', question: '10 <= numero <= 20 é avaliado como?', hint: 'Como (10 <= numero) and (numero <= 20).' },
    ],
    options: ['Dentro\\nTambém dentro', 'Dentro', 'Também dentro', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Python permite comparações encadeadas para intervalos.',
      whatFor: 'Código mais legível e matemático.',
      how: 'a <= x <= b é equivalente a a <= x and x <= b.',
      commonMistakes: ['Não saber que Python permite isso', 'Outras linguagens não permitem'],
      realWorldExample: 'Verificar se valor está em faixa aceitável.',
    },
    difficulty: 'intermediate',
    tags: ['operadores', 'comparação', 'intervalo'],
    xpReward: 75,
    professionalContext: 'Validar valores em faixas.',
    militaryApplication: 'Verificar se coordenada está em área de operação.',
  },
  {
    id: 'py-logic-op-6',
    lessonId: 'py-logic-2',
    type: 'code',
    question: 'Verifique se um número é divisível por 3 E por 5 (FizzBuzz). Armazene True/False em `fizzbuzz`.',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que significa ser divisível por N?', hint: 'Resto da divisão é zero: numero % N == 0.' },
      { level: 2, type: 'how', question: 'Como combinar as duas condições?', hint: 'Use and: div_por_3 and div_por_5.' },
    ],
    starterCode: 'numero = 15\n# Verifique\n',
    expectedOutput: 'True',
    testCases: [{ input: '', expectedOutput: 'True', description: 'fizzbuzz deve ser True para 15' }],
    explanation: {
      why: 'FizzBuzz é exercício clássico de lógica.',
      whatFor: 'Praticar condições compostas.',
      how: 'fizzbuzz = (numero % 3 == 0) and (numero % 5 == 0).',
      commonMistakes: ['Usar or ao invés de and', 'Esquecer parênteses'],
      realWorldExample: 'Verificar múltiplos critérios de aprovação.',
    },
    difficulty: 'beginner',
    tags: ['operadores', 'módulo', 'divisibilidade'],
    xpReward: 75,
    professionalContext: 'Critérios compostos de validação.',
    militaryApplication: 'Critério de seleção: altura_ok AND aptidão_ok.',
  },
  {
    id: 'py-logic-match-1',
    lessonId: 'py-logic-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndia = 3\nmatch dia:\n    case 1:\n        print("Segunda")\n    case 2:\n        print("Terça")\n    case 3:\n        print("Quarta")\n    case _:\n        print("Outro")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que é match-case?', hint: 'Estrutura similar a switch em outras linguagens.' },
      { level: 2, type: 'how', question: 'O que case _ significa?', hint: 'Caso padrão (default), pega qualquer valor.' },
    ],
    options: ['Quarta', 'Segunda', 'Outro', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Match-case é mais legível para múltiplas opções.',
      whatFor: 'Substituir cadeias longas de if-elif.',
      how: 'dia=3 casa com case 3, imprime "Quarta".',
      commonMistakes: ['Esquecer case _ para default', 'Match requer Python 3.10+'],
      realWorldExample: 'Processar comandos de menu.',
    },
    difficulty: 'intermediate',
    tags: ['condicionais', 'match', 'case'],
    xpReward: 100,
    professionalContext: 'Roteamento de ações por tipo.',
    militaryApplication: 'Processar códigos de operação.',
  },

  // ============================================
  // EXPANSÃO: MAIS EXERCÍCIOS LOOPS (40+)
  // ============================================
  {
    id: 'py-loop-for-4',
    lessonId: 'py-loops-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nfor i in range(5, 0, -1):\n    print(i, end=" ")\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'range(5, 0, -1) gera quais números?', hint: 'Começa em 5, vai até 0 (exclusive), passo -1.' },
      { level: 2, type: 'how', question: 'Qual o último número gerado?', hint: '1 (para antes do 0).' },
    ],
    options: ['5 4 3 2 1', '5 4 3 2 1 0', '0 1 2 3 4 5', '4 3 2 1 0'],
    correctAnswer: 0,
    explanation: {
      why: 'Range com step negativo conta de trás para frente.',
      whatFor: 'Contagem regressiva, iterar de trás para frente.',
      how: 'range(início, fim, passo). Fim é exclusivo.',
      commonMistakes: ['Esquecer que fim é exclusivo', 'Passo errado (positivo)'],
      realWorldExample: 'Contagem regressiva de lançamento.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'range', 'regressivo'],
    xpReward: 75,
    professionalContext: 'Processar do mais recente ao mais antigo.',
    militaryApplication: 'Contagem regressiva de operação.',
  },
  {
    id: 'py-loop-for-5',
    lessonId: 'py-loops-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\npalavra = "DATA"\nfor i, letra in enumerate(palavra):\n    print(f"{i}:{letra}", end=" ")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que enumerate faz?', hint: 'Retorna índice E valor juntos.' },
      { level: 2, type: 'how', question: 'Qual é o índice da primeira letra?', hint: 'Índices começam em 0.' },
    ],
    options: ['0:D 1:A 2:T 3:A', '1:D 2:A 3:T 4:A', 'D:0 A:1 T:2 A:3', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Enumerate evita contador manual.',
      whatFor: 'Quando precisa de índice E valor.',
      how: 'enumerate retorna tuplas (índice, valor).',
      commonMistakes: ['Confundir ordem (índice vem primeiro)', 'Usar range(len()) quando enumerate é melhor'],
      realWorldExample: 'Numerar itens de lista.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'enumerate', 'índice'],
    xpReward: 75,
    professionalContext: 'Numerar registros para relatório.',
    militaryApplication: 'Numerar checkpoints de patrulha.',
  },
  {
    id: 'py-loop-for-6',
    lessonId: 'py-loops-1',
    type: 'code',
    question: 'Encontre o maior número em uma lista. Armazene em `maior`.',
    socraticHints: [
      { level: 1, type: 'how', question: 'Como acompanhar o maior valor visto até agora?', hint: 'Use uma variável que atualiza quando encontra valor maior.' },
      { level: 2, type: 'how', question: 'Como inicializar essa variável?', hint: 'Com o primeiro elemento ou -infinito.' },
    ],
    starterCode: 'numeros = [34, 12, 89, 56, 23]\n# Encontre o maior\n',
    expectedOutput: '89',
    testCases: [{ input: '', expectedOutput: '89', description: 'maior deve ser 89' }],
    explanation: {
      why: 'Encontrar extremos é operação fundamental.',
      whatFor: 'Análise de dados: máximo, mínimo.',
      how: 'maior = numeros[0]. Para cada n: se n > maior, maior = n.',
      commonMistakes: ['Inicializar com 0 (e se todos forem negativos?)', 'Comparar com variável errada'],
      realWorldExample: 'Maior venda do mês.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'máximo', 'algoritmo'],
    xpReward: 75,
    professionalContext: 'Relatório de pico de vendas.',
    militaryApplication: 'Maior distância percorrida por unidade.',
  },
  {
    id: 'py-loop-for-7',
    lessonId: 'py-loops-1',
    type: 'code',
    question: 'Conte quantos números pares existem na lista. Armazene em `quantidade_pares`.',
    socraticHints: [
      { level: 1, type: 'how', question: 'Como verificar se número é par?', hint: 'numero % 2 == 0.' },
      { level: 2, type: 'how', question: 'Como contar?', hint: 'Inicialize contador em 0, incremente quando achar par.' },
    ],
    starterCode: 'numeros = [1, 2, 3, 4, 5, 6, 7, 8]\n# Conte os pares\n',
    expectedOutput: '4',
    testCases: [{ input: '', expectedOutput: '4', description: 'quantidade_pares deve ser 4' }],
    explanation: {
      why: 'Contar elementos que satisfazem condição é comum.',
      whatFor: 'Estatísticas, validações.',
      how: 'Padrão contador: inicializa 0, incrementa quando condição é True.',
      commonMistakes: ['Esquecer de inicializar contador', 'Incrementar fora do if'],
      realWorldExample: 'Contar transações acima de certo valor.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'contador', 'condição'],
    xpReward: 50,
    professionalContext: 'Contagem de itens por categoria.',
    militaryApplication: 'Contar equipamentos operacionais.',
  },
  {
    id: 'py-loop-while-2',
    lessonId: 'py-loops-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ni = 0\nwhile i < 5:\n    if i == 3:\n        break\n    print(i, end=" ")\n    i += 1\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que break faz?', hint: 'Sai do loop imediatamente.' },
      { level: 2, type: 'how', question: 'Quando i chega em 3, o que acontece?', hint: 'Executa break antes do print.' },
    ],
    options: ['0 1 2', '0 1 2 3', '0 1 2 3 4', '3'],
    correctAnswer: 0,
    explanation: {
      why: 'Break permite sair cedo quando encontra o que procura.',
      whatFor: 'Parar busca assim que encontrar, economizar processamento.',
      how: 'i=3 → break executa → sai do loop sem imprimir 3.',
      commonMistakes: ['Não saber quando print executa', 'Confundir break com continue'],
      realWorldExample: 'Parar busca quando encontrar item.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'break', 'controle'],
    xpReward: 75,
    professionalContext: 'Busca otimizada com parada antecipada.',
    militaryApplication: 'Parar varredura ao encontrar alvo.',
  },
  {
    id: 'py-loop-while-3',
    lessonId: 'py-loops-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nfor i in range(5):\n    if i == 2:\n        continue\n    print(i, end=" ")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que continue faz?', hint: 'Pula para a próxima iteração, ignora o resto do corpo.' },
      { level: 2, type: 'how', question: 'Quando i=2, o print executa?', hint: 'Não! Continue pula antes.' },
    ],
    options: ['0 1 3 4', '0 1 2 3 4', '2', '0 1'],
    correctAnswer: 0,
    explanation: {
      why: 'Continue permite pular casos específicos.',
      whatFor: 'Ignorar itens inválidos ou especiais.',
      how: 'i=2 → continue → volta para próximo i, não imprime 2.',
      commonMistakes: ['Confundir continue com break', 'Pensar que loop termina'],
      realWorldExample: 'Processar lista ignorando itens inválidos.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'continue', 'controle'],
    xpReward: 75,
    professionalContext: 'Pular registros com erro.',
    militaryApplication: 'Processar alvos exceto aliados.',
  },
  {
    id: 'py-loop-while-4',
    lessonId: 'py-loops-2',
    type: 'code',
    question: 'Simule uma contagem regressiva de 10 até 0 usando while, depois imprima "Lançamento!".',
    socraticHints: [
      { level: 1, type: 'how', question: 'Qual a condição para continuar?', hint: 'Enquanto contador >= 0.' },
      { level: 2, type: 'how', question: 'O que fazer em cada iteração?', hint: 'Imprimir e decrementar.' },
    ],
    starterCode: '# Implemente a contagem\n',
    expectedOutput: '10 9 8 7 6 5 4 3 2 1 0\\nLançamento!',
    testCases: [{ input: '', expectedOutput: '', description: 'Contagem de 10 a 0 seguida de Lançamento!' }],
    explanation: {
      why: 'While é ideal quando número de iterações depende de condição.',
      whatFor: 'Loops de espera, contadores dinâmicos.',
      how: 'n=10. while n >= 0: print, n-=1. Depois print("Lançamento!").',
      commonMistakes: ['Loop infinito (esquecer decremento)', 'Off-by-one (não imprimir 0)'],
      realWorldExample: 'Timer de sessão.',
    },
    difficulty: 'beginner',
    tags: ['loops', 'while', 'contagem'],
    xpReward: 75,
    professionalContext: 'Countdown de ofertas.',
    militaryApplication: 'Contagem regressiva de detonação.',
  },
  {
    id: 'py-loop-zip-1',
    lessonId: 'py-loops-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnomes = ["Ana", "Carlos"]\nidades = [25, 30]\nfor nome, idade in zip(nomes, idades):\n    print(f"{nome}: {idade}")\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que zip faz?', hint: 'Combina listas em pares (tuplas).' },
      { level: 2, type: 'how', question: 'Quantas iterações haverá?', hint: 'Tamanho da menor lista (ambas têm 2).' },
    ],
    options: ['Ana: 25\\nCarlos: 30', 'Ana\\nCarlos\\n25\\n30', '(Ana, 25)\\n(Carlos, 30)', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Zip itera sobre múltiplas listas simultaneamente.',
      whatFor: 'Combinar dados relacionados que estão em listas separadas.',
      how: 'zip(a, b) cria pares: (a[0], b[0]), (a[1], b[1])...',
      commonMistakes: ['Listas de tamanhos diferentes (para na menor)', 'Confundir com enumerate'],
      realWorldExample: 'Combinar nomes com emails.',
    },
    difficulty: 'intermediate',
    tags: ['loops', 'zip', 'iteração'],
    xpReward: 100,
    professionalContext: 'Combinar dados de diferentes fontes.',
    militaryApplication: 'Associar soldados com equipamentos.',
  },
  {
    id: 'py-loop-comp-3',
    lessonId: 'py-loops-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nquadrados = {x: x**2 for x in range(1, 4)}\nprint(quadrados)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Isso é uma list comprehension?', hint: 'Não! É dict comprehension (usa {}).' },
      { level: 2, type: 'how', question: 'Qual a estrutura chave:valor?', hint: 'x é a chave, x**2 é o valor.' },
    ],
    options: ['{1: 1, 2: 4, 3: 9}', '[1, 4, 9]', '{1, 4, 9}', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Dict comprehension cria dicionários de forma concisa.',
      whatFor: 'Transformar dados em mapeamentos.',
      how: '{chave: valor for x in iterável} cria dicionário.',
      commonMistakes: ['Confundir com set comprehension', 'Esquecer os dois pontos'],
      realWorldExample: 'Mapear IDs para nomes.',
    },
    difficulty: 'intermediate',
    tags: ['loops', 'comprehension', 'dicionário'],
    xpReward: 100,
    professionalContext: 'Indexar dados por chave.',
    militaryApplication: 'Mapear código de unidade para nome.',
  },
  {
    id: 'py-loop-nested-1',
    lessonId: 'py-loops-4',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nmatriz = [[1, 2], [3, 4], [5, 6]]\ntotal = 0\nfor linha in matriz:\n    for valor in linha:\n        total += valor\nprint(total)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que dois loops?', hint: 'Um para linhas, outro para elementos de cada linha.' },
      { level: 2, type: 'how', question: 'Quantos valores são somados?', hint: '6 valores: 1+2+3+4+5+6.' },
    ],
    options: ['21', '6', '15', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Loops aninhados processam estruturas 2D.',
      whatFor: 'Matrizes, tabelas, grades.',
      how: 'Loop externo: linhas. Loop interno: elementos.',
      commonMistakes: ['Confundir linha com valor', 'Não perceber que matriz[i] é uma lista'],
      realWorldExample: 'Somar todas células de planilha.',
    },
    difficulty: 'intermediate',
    tags: ['loops', 'aninhado', 'matriz'],
    xpReward: 100,
    professionalContext: 'Processar planilhas.',
    militaryApplication: 'Varrer todas células do mapa.',
  },

  // ============================================
  // EXPANSÃO: MAIS EXERCÍCIOS ESTRUTURAS (40+)
  // ============================================
  {
    id: 'py-struct-list-3',
    lessonId: 'py-struct-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nlista = [1, 2, 3]\nlista2 = lista\nlista.append(4)\nprint(lista2)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'lista2 = lista cria uma cópia?', hint: 'Não! Cria uma referência ao mesmo objeto.' },
      { level: 2, type: 'how', question: 'Se modificar lista, o que acontece com lista2?', hint: 'Também muda, pois são o mesmo objeto.' },
    ],
    options: ['[1, 2, 3, 4]', '[1, 2, 3]', '[4]', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Listas são mutáveis e atribuição cria referência.',
      whatFor: 'Evitar bugs ao passar listas para funções.',
      how: 'Para copiar: lista2 = lista.copy() ou lista[:].',
      commonMistakes: ['Pensar que atribuição copia', 'Modificar lista original acidentalmente'],
      realWorldExample: 'Modificar lista passada para função afeta original.',
    },
    difficulty: 'intermediate',
    tags: ['lista', 'referência', 'mutável'],
    xpReward: 100,
    professionalContext: 'Efeitos colaterais em funções.',
    militaryApplication: 'Lista de objetivos compartilhada entre unidades.',
  },
  {
    id: 'py-struct-list-4',
    lessonId: 'py-struct-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nlista = [3, 1, 4, 1, 5]\nprint(lista.count(1))\nprint(lista.index(4))\nlista.remove(1)\nprint(lista)\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'count() conta o quê?', hint: 'Quantas vezes o valor aparece.' },
      { level: 2, type: 'how', question: 'index() retorna o quê?', hint: 'A posição da PRIMEIRA ocorrência.' },
      { level: 3, type: 'how', question: 'remove() remove qual 1?', hint: 'O primeiro encontrado.' },
    ],
    options: ['2\\n2\\n[3, 4, 1, 5]', '2\\n2\\n[3, 4, 5]', '1\\n2\\n[3, 4, 1, 5]', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Métodos de lista para busca e remoção.',
      whatFor: 'Manipular listas de forma precisa.',
      how: 'count=2, index=2, remove tira primeiro 1.',
      commonMistakes: ['remove apaga todos (não, só o primeiro)', 'index de item inexistente dá erro'],
      realWorldExample: 'Remover primeiro registro duplicado.',
    },
    difficulty: 'beginner',
    tags: ['lista', 'métodos', 'count', 'index', 'remove'],
    xpReward: 75,
    professionalContext: 'Limpeza de dados duplicados.',
    militaryApplication: 'Remover primeira ocorrência de equipamento defeituoso.',
  },
  {
    id: 'py-struct-list-5',
    lessonId: 'py-struct-2',
    type: 'code',
    question: 'Inverta uma lista SEM usar o método reverse(). Armazene em `invertida`.',
    socraticHints: [
      { level: 1, type: 'how', question: 'Qual slice pega a lista de trás para frente?', hint: 'lista[::-1] usa passo negativo.' },
      { level: 2, type: 'how', question: 'Isso modifica a original?', hint: 'Não, cria uma nova lista.' },
    ],
    starterCode: 'original = [1, 2, 3, 4, 5]\n# Inverta\n',
    expectedOutput: '[5, 4, 3, 2, 1]',
    testCases: [{ input: '', expectedOutput: '[5, 4, 3, 2, 1]', description: 'invertida deve ser [5, 4, 3, 2, 1]' }],
    explanation: {
      why: 'Slicing com passo negativo é técnica Pythonica.',
      whatFor: 'Inverter sem modificar original.',
      how: 'lista[::-1] lê do fim ao início.',
      commonMistakes: ['Confundir com reverse() que modifica in-place', 'Esquecer os dois pontos'],
      realWorldExample: 'Exibir histórico do mais recente ao mais antigo.',
    },
    difficulty: 'beginner',
    tags: ['lista', 'slice', 'inverter'],
    xpReward: 75,
    professionalContext: 'Ordenação reversa de logs.',
    militaryApplication: 'Reproduzir rota de trás para frente.',
  },
  {
    id: 'py-struct-tuple-1',
    lessonId: 'py-struct-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ncoordenada = (10, 20)\nx, y = coordenada\nprint(x + y)\n# coordenada[0] = 5  # O que aconteceria?\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Qual a diferença entre tupla e lista?', hint: 'Tupla é imutável.' },
      { level: 2, type: 'how', question: 'O que é unpacking?', hint: 'Atribuir elementos a variáveis separadas.' },
    ],
    options: ['30', '(10, 20)', 'Erro', '[10, 20]'],
    correctAnswer: 0,
    explanation: {
      why: 'Tuplas são imutáveis e usadas para dados que não devem mudar.',
      whatFor: 'Coordenadas, configurações fixas, retornos múltiplos.',
      how: 'x, y = (10, 20) desempacota. x=10, y=20.',
      commonMistakes: ['Tentar modificar tupla (erro)', 'Confundir () com []'],
      realWorldExample: 'Coordenadas GPS são fixas uma vez definidas.',
    },
    difficulty: 'beginner',
    tags: ['tupla', 'unpacking', 'imutável'],
    xpReward: 50,
    professionalContext: 'Retornos múltiplos de funções.',
    militaryApplication: 'Coordenadas de posição fixa.',
  },
  {
    id: 'py-struct-set-1',
    lessonId: 'py-struct-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\na = {1, 2, 3, 3, 2, 1}\nb = {3, 4, 5}\nprint(len(a))\nprint(a & b)\nprint(a | b)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Por que len(a) não é 6?', hint: 'Sets não permitem duplicatas.' },
      { level: 2, type: 'how', question: 'O que & e | fazem com sets?', hint: 'Interseção e união.' },
    ],
    options: ['3\\n{3}\\n{1, 2, 3, 4, 5}', '6\\n{3}\\n{1, 2, 3, 4, 5}', '3\\n{1, 2}\\n{3, 4, 5}', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Sets armazenam valores únicos.',
      whatFor: 'Remover duplicatas, operações de conjunto.',
      how: 'a tem 3 únicos. & = interseção {3}. | = união {1-5}.',
      commonMistakes: ['Esperar duplicatas', 'Não saber operadores de conjunto'],
      realWorldExample: 'Encontrar clientes em comum entre duas listas.',
    },
    difficulty: 'intermediate',
    tags: ['set', 'conjunto', 'operações'],
    xpReward: 100,
    professionalContext: 'Encontrar itens únicos/comuns.',
    militaryApplication: 'Interseção de áreas de patrulha.',
  },
  {
    id: 'py-struct-dict-2',
    lessonId: 'py-struct-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nestoque = {"maçã": 10, "banana": 5}\nfor fruta, qtd in estoque.items():\n    print(f"{fruta}: {qtd}")\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'O que items() retorna?', hint: 'Pares (chave, valor).' },
      { level: 2, type: 'how', question: 'Como desempacotar os pares?', hint: 'for chave, valor in dict.items().' },
    ],
    options: ['maçã: 10\\nbanana: 5', 'maçã\\nbanana', '10\\n5', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'items() permite iterar sobre pares chave-valor.',
      whatFor: 'Processar dicionários completos.',
      how: 'for k, v in d.items() desempacota cada par.',
      commonMistakes: ['Iterar só sobre keys por padrão', 'Esquecer items()'],
      realWorldExample: 'Relatório de estoque com nomes e quantidades.',
    },
    difficulty: 'beginner',
    tags: ['dicionário', 'items', 'iteração'],
    xpReward: 75,
    professionalContext: 'Processar registros de banco.',
    militaryApplication: 'Listar equipamentos e quantidades.',
  },
  {
    id: 'py-struct-dict-3',
    lessonId: 'py-struct-3',
    type: 'code',
    question: 'Conte a frequência de cada palavra em uma lista. Armazene em `frequencia`.',
    socraticHints: [
      { level: 1, type: 'how', question: 'Como usar dicionário para contagem?', hint: 'Chave = palavra, valor = contagem.' },
      { level: 2, type: 'how', question: 'E se a palavra ainda não existe?', hint: 'Use get(palavra, 0) para retornar 0 como padrão.' },
    ],
    starterCode: 'palavras = ["a", "b", "a", "c", "b", "a"]\n# Conte\nfrequencia = {}\n',
    expectedOutput: "{'a': 3, 'b': 2, 'c': 1}",
    testCases: [{ input: '', expectedOutput: '', description: 'a=3, b=2, c=1' }],
    explanation: {
      why: 'Contagem de frequência é padrão comum.',
      whatFor: 'Análise de texto, estatísticas.',
      how: 'freq[p] = freq.get(p, 0) + 1 para cada palavra.',
      commonMistakes: ['KeyError ao acessar chave inexistente', 'Não usar get()'],
      realWorldExample: 'Análise de palavras mais usadas.',
    },
    difficulty: 'intermediate',
    tags: ['dicionário', 'contagem', 'frequência'],
    xpReward: 100,
    professionalContext: 'Análise de logs, palavras-chave.',
    militaryApplication: 'Frequência de códigos de operação.',
  },
  {
    id: 'py-struct-dict-4',
    lessonId: 'py-struct-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nd = {"a": 1, "b": 2}\nd.update({"b": 3, "c": 4})\nprint(d)\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'O que update() faz?', hint: 'Adiciona/atualiza múltiplas chaves.' },
      { level: 2, type: 'how', question: 'Se chave já existe, o que acontece?', hint: 'Valor é substituído.' },
    ],
    options: ["{'a': 1, 'b': 3, 'c': 4}", "{'a': 1, 'b': 2, 'c': 4}", "{'b': 3, 'c': 4}", 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'update() mescla dicionários.',
      whatFor: 'Combinar configurações, atualizar dados.',
      how: 'Chaves novas são adicionadas, existentes atualizadas.',
      commonMistakes: ['Pensar que preserva valor original', 'Confundir com setdefault'],
      realWorldExample: 'Atualizar configurações com override.',
    },
    difficulty: 'beginner',
    tags: ['dicionário', 'update', 'mesclar'],
    xpReward: 75,
    professionalContext: 'Merge de configurações.',
    militaryApplication: 'Atualizar intel com novas informações.',
  },

  // ============================================
  // EXPANSÃO: MAIS EXERCÍCIOS FUNÇÕES (35+)
  // ============================================
  {
    id: 'py-func-def-3',
    lessonId: 'py-func-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndef greet(nome, msg="Olá"):\n    return f"{msg}, {nome}!"\n\nprint(greet("Ana"))\nprint(greet("Carlos", "Oi"))\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'Qual parâmetro tem valor padrão?', hint: 'msg tem padrão "Olá".' },
      { level: 2, type: 'how', question: 'Na primeira chamada, msg é?', hint: '"Olá" (padrão, pois não foi passado).' },
    ],
    options: ['Olá, Ana!\\nOi, Carlos!', 'Olá, Ana!\\nOlá, Carlos!', 'None\\nOi, Carlos!', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Parâmetros padrão tornam funções mais flexíveis.',
      whatFor: 'Evitar repetir valores comuns.',
      how: 'Se não passar argumento, usa valor padrão.',
      commonMistakes: ['Parâmetros com default devem vir depois', 'Mudar default mutável (lista/dict)'],
      realWorldExample: 'Função de log com nível padrão INFO.',
    },
    difficulty: 'beginner',
    tags: ['função', 'parâmetros', 'default'],
    xpReward: 75,
    professionalContext: 'APIs com parâmetros opcionais.',
    militaryApplication: 'Alerta com prioridade padrão.',
  },
  {
    id: 'py-func-def-4',
    lessonId: 'py-func-1',
    type: 'code',
    question: 'Crie uma função `calcular_media` que recebe uma lista de números e retorna a média.',
    socraticHints: [
      { level: 1, type: 'how', question: 'O que é média?', hint: 'Soma de todos dividida pela quantidade.' },
      { level: 2, type: 'how', question: 'Quais funções nativas ajudam?', hint: 'sum() e len().' },
    ],
    starterCode: '# Defina a função\n\n# Teste\nnotas = [7, 8, 9, 6]\nprint(calcular_media(notas))',
    expectedOutput: '7.5',
    testCases: [{ input: '', expectedOutput: '7.5', description: 'Média de [7,8,9,6] é 7.5' }],
    explanation: {
      why: 'Funções encapsulam lógica reutilizável.',
      whatFor: 'Calcular média em qualquer lugar do código.',
      how: 'return sum(numeros) / len(numeros).',
      commonMistakes: ['Divisão inteira', 'Lista vazia (divisão por zero)'],
      realWorldExample: 'Média de avaliações de produto.',
    },
    difficulty: 'beginner',
    tags: ['função', 'média', 'matemática'],
    xpReward: 75,
    professionalContext: 'Métricas de dashboard.',
    militaryApplication: 'Média de desempenho de tropas.',
  },
  {
    id: 'py-func-args-1',
    lessonId: 'py-func-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndef soma(*args):\n    return sum(args)\n\nprint(soma(1, 2, 3))\nprint(soma(10, 20, 30, 40))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que *args significa?', hint: 'Recebe número variável de argumentos posicionais.' },
      { level: 2, type: 'how', question: 'args é uma tupla?', hint: 'Sim! (1, 2, 3) ou (10, 20, 30, 40).' },
    ],
    options: ['6\\n100', '(1, 2, 3)\\n(10, 20, 30, 40)', 'Erro', '6\\n40'],
    correctAnswer: 0,
    explanation: {
      why: '*args permite funções flexíveis.',
      whatFor: 'Funções que aceitam qualquer quantidade de argumentos.',
      how: '*args coleta argumentos em tupla.',
      commonMistakes: ['Confundir *args com **kwargs', 'Esquecer asterisco'],
      realWorldExample: 'print() aceita qualquer número de argumentos.',
    },
    difficulty: 'intermediate',
    tags: ['função', 'args', 'variádica'],
    xpReward: 100,
    professionalContext: 'Funções utilitárias flexíveis.',
    militaryApplication: 'Somar suprimentos de múltiplas unidades.',
  },
  {
    id: 'py-func-args-2',
    lessonId: 'py-func-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndef info(**kwargs):\n    for k, v in kwargs.items():\n        print(f"{k}={v}")\n\ninfo(nome="Ana", idade=25)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que **kwargs significa?', hint: 'Recebe argumentos nomeados como dicionário.' },
      { level: 2, type: 'how', question: 'Como acessar os valores?', hint: 'kwargs é um dicionário normal.' },
    ],
    options: ['nome=Ana\\nidade=25', "{'nome': 'Ana', 'idade': 25}", 'Erro', 'Ana\\n25'],
    correctAnswer: 0,
    explanation: {
      why: '**kwargs permite argumentos nomeados flexíveis.',
      whatFor: 'Funções de configuração, wrappers.',
      how: '**kwargs coleta argumentos nomeados em dicionário.',
      commonMistakes: ['Confundir com *args', 'Não iterar corretamente'],
      realWorldExample: 'Configuração de componentes UI.',
    },
    difficulty: 'intermediate',
    tags: ['função', 'kwargs', 'dicionário'],
    xpReward: 100,
    professionalContext: 'Funções de configuração.',
    militaryApplication: 'Parâmetros de missão flexíveis.',
  },
  {
    id: 'py-func-lambda-1',
    lessonId: 'py-func-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndobro = lambda x: x * 2\nprint(dobro(5))\n\nnumeros = [1, 2, 3, 4]\ndobros = list(map(dobro, numeros))\nprint(dobros)\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que é lambda?', hint: 'Função anônima de uma linha.' },
      { level: 2, type: 'how', question: 'map() faz o quê?', hint: 'Aplica função a cada elemento.' },
    ],
    options: ['10\\n[2, 4, 6, 8]', '5\\n[1, 2, 3, 4]', 'Erro', '10\\n[10, 10, 10, 10]'],
    correctAnswer: 0,
    explanation: {
      why: 'Lambda é útil para funções simples e rápidas.',
      whatFor: 'Passar funções curtas como argumento.',
      how: 'lambda args: expressão. map aplica a cada item.',
      commonMistakes: ['Lambda só pode ter uma expressão', 'Esquecer list() em map'],
      realWorldExample: 'Transformar dados em pipeline.',
    },
    difficulty: 'intermediate',
    tags: ['função', 'lambda', 'map'],
    xpReward: 100,
    professionalContext: 'Pipelines de dados.',
    militaryApplication: 'Transformar coordenadas: map(converter, coords).',
  },
  {
    id: 'py-func-lambda-2',
    lessonId: 'py-func-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nnumeros = [3, 1, 4, 1, 5, 9]\npares = list(filter(lambda x: x % 2 == 0, numeros))\nprint(pares)\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'filter() faz o quê?', hint: 'Mantém apenas elementos onde função retorna True.' },
      { level: 2, type: 'how', question: 'x % 2 == 0 verifica?', hint: 'Se x é par.' },
    ],
    options: ['[4]', '[3, 1, 1, 5, 9]', '[]', '[2, 4, 6]'],
    correctAnswer: 0,
    explanation: {
      why: 'Filter seleciona elementos que passam no teste.',
      whatFor: 'Filtrar dados sem loop explícito.',
      how: 'filter(func, iter) mantém onde func(x) é True.',
      commonMistakes: ['filter não retorna lista direto', 'Confundir com map'],
      realWorldExample: 'Filtrar registros válidos.',
    },
    difficulty: 'intermediate',
    tags: ['função', 'lambda', 'filter'],
    xpReward: 100,
    professionalContext: 'Seleção de dados.',
    militaryApplication: 'Filtrar alvos válidos.',
  },
  {
    id: 'py-func-recursion-1',
    lessonId: 'py-func-4',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\ndef fatorial(n):\n    if n <= 1:\n        return 1\n    return n * fatorial(n - 1)\n\nprint(fatorial(5))\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que é recursão?', hint: 'Função que chama a si mesma.' },
      { level: 2, type: 'how', question: 'fatorial(5) chama?', hint: '5 * fatorial(4), que chama 4 * fatorial(3)...' },
    ],
    options: ['120', '5', '1', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Recursão resolve problemas que se dividem em subproblemas.',
      whatFor: 'Árvores, grafos, problemas matemáticos.',
      how: 'Caso base (n<=1) para, senão chama com n-1.',
      commonMistakes: ['Esquecer caso base (loop infinito)', 'Stack overflow com n grande'],
      realWorldExample: 'Navegação em estruturas hierárquicas.',
    },
    difficulty: 'intermediate',
    tags: ['função', 'recursão', 'fatorial'],
    xpReward: 125,
    professionalContext: 'Processamento de árvores.',
    militaryApplication: 'Análise de cadeia de comando.',
  },

  // ============================================
  // EXPANSÃO: MAIS EXERCÍCIOS PANDAS (60+)
  // ============================================
  {
    id: 'pd-intro-series-2',
    lessonId: 'pd-intro-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ns = pd.Series([10, 20, 30, 40])\nprint(s[s > 20].values)\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 's > 20 retorna o quê?', hint: 'Series de True/False para cada elemento.' },
      { level: 2, type: 'how', question: 's[boolean_series] faz?', hint: 'Filtra, mantendo apenas True.' },
    ],
    options: ['[30 40]', '[20 30 40]', '[10 20]', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Filtro booleano é operação fundamental em Pandas.',
      whatFor: 'Selecionar dados que satisfazem condição.',
      how: 's > 20 → [F, F, T, T]. s[...] → valores True.',
      commonMistakes: ['Esquecer .values para array', 'Confundir com loc/iloc'],
      realWorldExample: 'Valores acima de threshold.',
    },
    difficulty: 'beginner',
    tags: ['pandas', 'series', 'filtro'],
    xpReward: 75,
    professionalContext: 'Filtrar métricas acima da meta.',
    militaryApplication: 'Unidades acima do efetivo mínimo.',
  },
  {
    id: 'pd-intro-df-2',
    lessonId: 'pd-intro-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "nome": ["Ana", "Carlos", "Maria"],\n    "vendas": [100, 200, 150]\n})\nprint(df["vendas"].max())\nprint(df["vendas"].idxmax())\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'max() retorna?', hint: 'O maior valor.' },
      { level: 2, type: 'how', question: 'idxmax() retorna?', hint: 'O ÍNDICE do maior valor.' },
    ],
    options: ['200\\n1', '200\\nCarlos', '100\\n0', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Distinguir valor de índice é crucial.',
      whatFor: 'Encontrar qual registro tem o extremo.',
      how: 'max=200. idxmax=1 (índice numérico).',
      commonMistakes: ['Confundir valor com índice', 'idxmax com índice custom'],
      realWorldExample: 'Encontrar cliente top.',
    },
    difficulty: 'beginner',
    tags: ['pandas', 'dataframe', 'max', 'idxmax'],
    xpReward: 75,
    professionalContext: 'Ranking de performance.',
    militaryApplication: 'Unidade com maior pontuação.',
  },
  {
    id: 'pd-intro-df-3',
    lessonId: 'pd-intro-3',
    type: 'code',
    question: 'Adicione uma coluna "bonus" ao DataFrame calculada como 10% das vendas.',
    socraticHints: [
      { level: 1, type: 'how', question: 'Como criar nova coluna?', hint: 'df["nova_coluna"] = valor.' },
      { level: 2, type: 'how', question: 'Operações são vetorizadas?', hint: 'Sim! df["vendas"] * 0.10 aplica a cada linha.' },
    ],
    starterCode: 'import pandas as pd\ndf = pd.DataFrame({\n    "nome": ["Ana", "Carlos"],\n    "vendas": [1000, 2000]\n})\n# Adicione a coluna bonus\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '', description: 'bonus deve ser [100.0, 200.0]' }],
    explanation: {
      why: 'Criar colunas calculadas é operação comum.',
      whatFor: 'Derivar métricas, normalizar dados.',
      how: 'df["bonus"] = df["vendas"] * 0.10.',
      commonMistakes: ['Usar loop (desnecessário)', 'Esquecer que retorna float'],
      realWorldExample: 'Calcular impostos, comissões.',
    },
    difficulty: 'beginner',
    tags: ['pandas', 'dataframe', 'coluna', 'cálculo'],
    xpReward: 75,
    professionalContext: 'Calcular comissões.',
    militaryApplication: 'Calcular cota de munição por efetivo.',
  },
  {
    id: 'pd-manip-loc-2',
    lessonId: 'pd-manip-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "A": [1, 2, 3],\n    "B": [4, 5, 6]\n}, index=["x", "y", "z"])\nprint(df.loc["y", "A"])\nprint(df.iloc[1, 0])\n```',
    socraticHints: [
      { level: 1, type: 'why', question: 'Qual a diferença entre loc e iloc?', hint: 'loc usa labels, iloc usa posição numérica.' },
      { level: 2, type: 'how', question: 'Ambos acessam o mesmo valor?', hint: 'Sim! "y" é índice 1, "A" é coluna 0.' },
    ],
    options: ['2\\n2', '2\\n5', '5\\n2', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'loc/iloc são formas de acessar dados.',
      whatFor: 'loc quando sabe o label, iloc quando sabe a posição.',
      how: 'loc["y", "A"] = iloc[1, 0] = 2.',
      commonMistakes: ['Confundir loc com iloc', 'Usar label em iloc'],
      realWorldExample: 'Acessar registro por ID vs por posição.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'loc', 'iloc'],
    xpReward: 100,
    professionalContext: 'Acesso preciso a dados.',
    militaryApplication: 'Buscar unidade por código ou posição na lista.',
  },
  {
    id: 'pd-manip-filter-2',
    lessonId: 'pd-manip-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "categoria": ["A", "B", "A", "C"],\n    "valor": [10, 20, 30, 40]\n})\nresult = df[df["categoria"].isin(["A", "C"])]\nprint(len(result))\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'O que isin() faz?', hint: 'Verifica se valor está na lista.' },
      { level: 2, type: 'how', question: 'Quantas linhas têm "A" ou "C"?', hint: 'A aparece 2x, C aparece 1x = 3.' },
    ],
    options: ['3', '2', '4', '1'],
    correctAnswer: 0,
    explanation: {
      why: 'isin é mais legível que múltiplos or.',
      whatFor: 'Filtrar por múltiplos valores possíveis.',
      how: 'Linhas 0,2,3 têm "A" ou "C" = 3 linhas.',
      commonMistakes: ['Usar == com lista (erro)', 'Confundir com contains'],
      realWorldExample: 'Filtrar por lista de categorias.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'isin', 'filtro'],
    xpReward: 100,
    professionalContext: 'Filtrar por múltiplas categorias.',
    militaryApplication: 'Selecionar unidades de tipos específicos.',
  },
  {
    id: 'pd-manip-sort-1',
    lessonId: 'pd-manip-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "nome": ["Ana", "Carlos", "Maria"],\n    "vendas": [150, 200, 100]\n})\ndf_sorted = df.sort_values("vendas", ascending=False)\nprint(df_sorted["nome"].iloc[0])\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'ascending=False ordena como?', hint: 'Decrescente (maior primeiro).' },
      { level: 2, type: 'how', question: 'Quem tem mais vendas?', hint: 'Carlos com 200.' },
    ],
    options: ['Carlos', 'Ana', 'Maria', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Ordenação é essencial para rankings.',
      whatFor: 'Top N, pior N, ordenar para exibição.',
      how: 'Ordenar desc, pegar primeiro = maior.',
      commonMistakes: ['Esquecer ascending=False', 'Modificar df original (sort_values não modifica in-place)'],
      realWorldExample: 'Ranking de vendedores.',
    },
    difficulty: 'beginner',
    tags: ['pandas', 'sort', 'ordenação'],
    xpReward: 75,
    professionalContext: 'Relatórios de ranking.',
    militaryApplication: 'Classificação de desempenho.',
  },
  {
    id: 'pd-manip-null-1',
    lessonId: 'pd-manip-4',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    "A": [1, np.nan, 3],\n    "B": [4, 5, np.nan]\n})\nprint(df.isna().sum().sum())\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'isna() retorna o quê?', hint: 'DataFrame de True/False onde há NaN.' },
      { level: 2, type: 'how', question: 'sum().sum() faz?', hint: 'Primeiro soma por coluna, depois soma totais.' },
    ],
    options: ['2', '3', '1', '6'],
    correctAnswer: 0,
    explanation: {
      why: 'Contar nulos é passo essencial de limpeza.',
      whatFor: 'Decidir estratégia: remover ou preencher.',
      how: '2 NaNs total (1 em A, 1 em B).',
      commonMistakes: ['Usar == None (não funciona)', 'Esquecer segundo sum()'],
      realWorldExample: 'Verificar qualidade dos dados.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'nan', 'limpeza'],
    xpReward: 100,
    professionalContext: 'Auditoria de qualidade de dados.',
    militaryApplication: 'Verificar dados faltantes em relatórios.',
  },
  {
    id: 'pd-manip-null-2',
    lessonId: 'pd-manip-4',
    type: 'code',
    question: 'Preencha valores NaN na coluna "idade" com a média da coluna.',
    socraticHints: [
      { level: 1, type: 'how', question: 'Qual método preenche NaN?', hint: 'fillna().' },
      { level: 2, type: 'how', question: 'Como calcular a média ignorando NaN?', hint: 'mean() ignora NaN por padrão.' },
    ],
    starterCode: 'import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({\n    "nome": ["Ana", "Carlos", "Maria"],\n    "idade": [25, np.nan, 35]\n})\n# Preencha NaN com a média\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '', description: 'idade de Carlos deve ser 30.0' }],
    explanation: {
      why: 'Imputação por média é técnica comum.',
      whatFor: 'Não perder linhas com dados parciais.',
      how: 'df["idade"].fillna(df["idade"].mean()).',
      commonMistakes: ['Calcular média antes de fillna inclui NaN?', 'Não atribuir de volta'],
      realWorldExample: 'Preencher dados faltantes em surveys.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'fillna', 'imputação'],
    xpReward: 100,
    professionalContext: 'Tratamento de dados faltantes.',
    militaryApplication: 'Estimar dados faltantes de sensores.',
  },
  {
    id: 'pd-analysis-groupby-2',
    lessonId: 'pd-analysis-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "dept": ["TI", "RH", "TI", "RH"],\n    "salario": [5000, 4000, 6000, 3500]\n})\nresult = df.groupby("dept")["salario"].agg(["mean", "count"])\nprint(result.loc["TI", "mean"])\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'agg() com lista faz?', hint: 'Aplica múltiplas agregações.' },
      { level: 2, type: 'how', question: 'Média de TI é?', hint: '(5000 + 6000) / 2 = 5500.' },
    ],
    options: ['5500.0', '2', '11000', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Múltiplas agregações em um comando.',
      whatFor: 'Relatórios resumidos por grupo.',
      how: 'agg(["mean", "count"]) retorna ambas métricas.',
      commonMistakes: ['Acessar resultado errado', 'Esquecer que retorna DataFrame'],
      realWorldExample: 'Relatório de salários por departamento.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'groupby', 'agg'],
    xpReward: 125,
    professionalContext: 'Análise departamental.',
    militaryApplication: 'Estatísticas por unidade.',
  },
  {
    id: 'pd-analysis-groupby-3',
    lessonId: 'pd-analysis-1',
    type: 'code',
    question: 'Encontre o vendedor com mais vendas em cada região usando groupby.',
    socraticHints: [
      { level: 1, type: 'how', question: 'Como pegar o índice do máximo por grupo?', hint: 'groupby + idxmax().' },
      { level: 2, type: 'how', question: 'Como usar o índice para pegar a linha?', hint: 'df.loc[indices].' },
    ],
    starterCode: 'import pandas as pd\ndf = pd.DataFrame({\n    "regiao": ["Sul", "Sul", "Norte", "Norte"],\n    "vendedor": ["Ana", "Carlos", "Maria", "João"],\n    "vendas": [100, 150, 200, 180]\n})\n# Encontre o top vendedor por região\n',
    expectedOutput: '',
    testCases: [{ input: '', expectedOutput: '', description: 'Sul: Carlos, Norte: Maria' }],
    explanation: {
      why: 'Encontrar extremo por grupo é análise comum.',
      whatFor: 'Premiar top performers por região.',
      how: 'groupby("regiao")["vendas"].idxmax() → df.loc[...].',
      commonMistakes: ['Usar max() ao invés de idxmax()', 'Não acessar linha completa'],
      realWorldExample: 'Funcionário do mês por filial.',
    },
    difficulty: 'advanced',
    tags: ['pandas', 'groupby', 'idxmax'],
    xpReward: 150,
    professionalContext: 'Premiação por desempenho.',
    militaryApplication: 'Melhor atirador por pelotão.',
  },
  {
    id: 'pd-analysis-pivot-1',
    lessonId: 'pd-analysis-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({\n    "mes": ["Jan", "Jan", "Fev", "Fev"],\n    "produto": ["A", "B", "A", "B"],\n    "vendas": [10, 20, 15, 25]\n})\npivot = df.pivot(index="mes", columns="produto", values="vendas")\nprint(pivot.loc["Jan", "A"])\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'O que pivot faz?', hint: 'Reorganiza dados em formato de tabela cruzada.' },
      { level: 2, type: 'how', question: 'Jan + A = qual valor?', hint: 'Vendas de Jan para produto A = 10.' },
    ],
    options: ['10', '15', '30', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'Pivot transforma dados longos em tabela cruzada.',
      whatFor: 'Visualização de comparações.',
      how: 'Linhas = mês, colunas = produto, valores = vendas.',
      commonMistakes: ['Confundir index/columns', 'Dados duplicados precisam de pivot_table'],
      realWorldExample: 'Vendas por mês x produto.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'pivot', 'reshape'],
    xpReward: 125,
    professionalContext: 'Relatórios cruzados.',
    militaryApplication: 'Efetivo por mês x unidade.',
  },
  {
    id: 'pd-adv-merge-2',
    lessonId: 'pd-adv-1',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf1 = pd.DataFrame({"id": [1, 2, 3], "nome": ["A", "B", "C"]})\ndf2 = pd.DataFrame({"id": [2, 3, 4], "vendas": [100, 200, 300]})\nresult = pd.merge(df1, df2, on="id", how="left")\nprint(result["vendas"].isna().sum())\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'Left join mantém quais linhas?', hint: 'Todas do DataFrame da esquerda (df1).' },
      { level: 2, type: 'how', question: 'id=1 existe em df2?', hint: 'Não, então vendas será NaN.' },
    ],
    options: ['1', '0', '2', '3'],
    correctAnswer: 0,
    explanation: {
      why: 'Left join preserva todos registros da esquerda.',
      whatFor: 'Manter registros mesmo sem match.',
      how: 'id=1 não tem match → vendas NaN = 1 NaN.',
      commonMistakes: ['Confundir left com inner', 'Não verificar NaN após join'],
      realWorldExample: 'Clientes com/sem pedidos.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'merge', 'left join'],
    xpReward: 125,
    professionalContext: 'Análise de clientes ativos/inativos.',
    militaryApplication: 'Soldados com/sem designação.',
  },
  {
    id: 'pd-adv-apply-1',
    lessonId: 'pd-adv-2',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf = pd.DataFrame({"valor": [1, 2, 3, 4]})\ndf["categoria"] = df["valor"].apply(lambda x: "alto" if x > 2 else "baixo")\nprint(df["categoria"].value_counts()["alto"])\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'apply() faz o quê?', hint: 'Aplica função a cada elemento.' },
      { level: 2, type: 'how', question: 'Quantos valores são > 2?', hint: '3 e 4 são > 2 = 2 valores.' },
    ],
    options: ['2', '3', '1', '4'],
    correctAnswer: 0,
    explanation: {
      why: 'apply() permite transformações customizadas.',
      whatFor: 'Criar categorias, aplicar lógica complexa.',
      how: '3,4 > 2 → "alto". value_counts conta cada.',
      commonMistakes: ['Usar loop ao invés de apply', 'Não retornar valor na lambda'],
      realWorldExample: 'Classificar clientes por valor.',
    },
    difficulty: 'intermediate',
    tags: ['pandas', 'apply', 'categorização'],
    xpReward: 100,
    professionalContext: 'Segmentação de dados.',
    militaryApplication: 'Classificar ameaças por nível.',
  },
  {
    id: 'pd-adv-concat-1',
    lessonId: 'pd-adv-3',
    type: 'output-prediction',
    question: 'Qual será o output?\n\n```python\nimport pandas as pd\ndf1 = pd.DataFrame({"A": [1, 2]})\ndf2 = pd.DataFrame({"A": [3, 4]})\nresult = pd.concat([df1, df2], ignore_index=True)\nprint(len(result))\nprint(result["A"].iloc[-1])\n```',
    socraticHints: [
      { level: 1, type: 'how', question: 'concat empilha DataFrames como?', hint: 'Verticalmente por padrão.' },
      { level: 2, type: 'how', question: 'ignore_index=True faz?', hint: 'Reseta índices para 0, 1, 2, 3.' },
    ],
    options: ['4\\n4', '2\\n4', '4\\n2', 'Erro'],
    correctAnswer: 0,
    explanation: {
      why: 'concat une DataFrames vertical ou horizontalmente.',
      whatFor: 'Combinar dados de múltiplas fontes.',
      how: '2 + 2 = 4 linhas. Último valor = 4.',
      commonMistakes: ['Índices duplicados sem ignore_index', 'Colunas não alinhadas'],
      realWorldExample: 'Unir dados mensais.',
    },
    difficulty: 'beginner',
    tags: ['pandas', 'concat', 'união'],
    xpReward: 75,
    professionalContext: 'Consolidar relatórios.',
    militaryApplication: 'Unir logs de múltiplas unidades.',
  },

  // ============================================
  // EXPANSÃO: MAIS EXERCÍCIOS INGLÊS (30+)
  // ============================================
  {
    id: 'eng-read-vocab-3',
    lessonId: 'eng-read-1',
    type: 'output-prediction',
    question: 'What does "instantiate" mean in programming?',
    socraticHints: [
      { level: 1, type: 'how', question: '"Instance" em português é...?', hint: 'Instância - uma ocorrência específica.' },
    ],
    options: [
      'Delete an object',
      'Create an instance of a class',
      'Import a library',
      'Debug a program'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Instantiate significa criar uma instância.',
      whatFor: 'Entender OOP e documentação.',
      how: 'To instantiate a class = criar objeto dessa classe.',
      commonMistakes: ['Confundir com initialize', 'Não saber que cria objeto'],
      realWorldExample: 'df = pd.DataFrame() instantiates a DataFrame.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'vocabulário', 'OOP'],
    xpReward: 50,
    professionalContext: 'Documentação de bibliotecas.',
    militaryApplication: 'Instanciar objeto de missão.',
  },
  {
    id: 'eng-read-vocab-4',
    lessonId: 'eng-read-1',
    type: 'output-prediction',
    question: 'What does "mutable" mean?',
    socraticHints: [
      { level: 1, type: 'why', question: '"Mutate" significa mudar. E mutable?', hint: 'Que pode ser mudado.' },
    ],
    options: [
      'Cannot be changed',
      'Can be changed after creation',
      'Must be initialized',
      'Is automatically deleted'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Mutable = pode ser alterado após criação.',
      whatFor: 'Entender comportamento de listas vs tuplas.',
      how: 'Lists are mutable, tuples are immutable.',
      commonMistakes: ['Confundir mutable/immutable', 'Não saber quais tipos são mutáveis'],
      realWorldExample: 'Lists are mutable, strings are immutable.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'vocabulário', 'tipos'],
    xpReward: 50,
    professionalContext: 'Escolha de estruturas de dados.',
    militaryApplication: 'Ordens são immutable uma vez dadas.',
  },
  {
    id: 'eng-read-vocab-5',
    lessonId: 'eng-read-1',
    type: 'output-prediction',
    question: 'What does "iterate" mean?',
    socraticHints: [
      { level: 1, type: 'how', question: 'O que um loop faz com elementos?', hint: 'Passa por cada um, repetidamente.' },
    ],
    options: [
      'Skip elements',
      'Go through elements one by one',
      'Delete elements',
      'Sort elements'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Iterate = percorrer elementos sequencialmente.',
      whatFor: 'Entender loops e iteradores.',
      how: 'For loop iterates over a list.',
      commonMistakes: ['Confundir com reiterate', 'Não associar com loops'],
      realWorldExample: 'Iterate through the DataFrame rows.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'vocabulário', 'loops'],
    xpReward: 50,
    professionalContext: 'Documentação de APIs.',
    militaryApplication: 'Iterate through checkpoints.',
  },
  {
    id: 'eng-read-vocab-6',
    lessonId: 'eng-read-1',
    type: 'output-prediction',
    question: 'What does "raise an exception" mean?',
    socraticHints: [
      { level: 1, type: 'why', question: 'O que acontece quando algo dá errado?', hint: 'Um erro é "levantado".' },
    ],
    options: [
      'Fix an error',
      'Trigger an error condition',
      'Ignore an error',
      'Log an error'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Raise = disparar/levantar uma exceção.',
      whatFor: 'Sinalizar condições de erro.',
      how: 'raise ValueError("message") triggers error.',
      commonMistakes: ['Confundir raise com return', 'Não tratar exceções raised'],
      realWorldExample: 'This method raises TypeError if...',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'vocabulário', 'exceções'],
    xpReward: 50,
    professionalContext: 'Tratamento de erros.',
    militaryApplication: 'Raise alert for anomaly.',
  },
  {
    id: 'eng-pattern-cond-2',
    lessonId: 'eng-pattern-2',
    type: 'output-prediction',
    question: 'What does "if applicable" mean?',
    socraticHints: [
      { level: 1, type: 'how', question: '"Applicable" vem de "apply". Se aplica quando?', hint: 'Quando é relevante/apropriado.' },
    ],
    options: [
      'Always required',
      'When relevant or appropriate',
      'Never needed',
      'Only for experts'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'If applicable = se for aplicável/relevante.',
      whatFor: 'Indicar passos condicionais.',
      how: '"Add index, if applicable" = adicione se fizer sentido.',
      commonMistakes: ['Pensar que é obrigatório', 'Ignorar quando é aplicável'],
      realWorldExample: 'Set timeout if applicable.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'padrões', 'condicional'],
    xpReward: 50,
    professionalContext: 'Documentação flexível.',
    militaryApplication: 'Procedimento opcional conforme situação.',
  },
  {
    id: 'eng-pattern-seq-1',
    lessonId: 'eng-pattern-3',
    type: 'output-prediction',
    question: 'In documentation: "First, import the library. Then, create an instance. Finally, call the method." What is the correct order?',
    socraticHints: [
      { level: 1, type: 'how', question: 'Quais palavras indicam sequência?', hint: 'First, Then, Finally.' },
    ],
    options: [
      'Import → Instance → Method',
      'Instance → Import → Method',
      'Method → Import → Instance',
      'Any order is fine'
    ],
    correctAnswer: 0,
    explanation: {
      why: 'Marcadores de sequência indicam ordem.',
      whatFor: 'Seguir instruções corretamente.',
      how: 'First → Then → Finally = ordem obrigatória.',
      commonMistakes: ['Pular passos', 'Inverter ordem'],
      realWorldExample: 'Tutoriais seguem sequência lógica.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'padrões', 'sequência'],
    xpReward: 50,
    professionalContext: 'Seguir tutoriais técnicos.',
    militaryApplication: 'Procedimentos operacionais padrão.',
  },
  {
    id: 'eng-pattern-seq-2',
    lessonId: 'eng-pattern-3',
    type: 'output-prediction',
    question: 'What does "prior to" mean?',
    socraticHints: [
      { level: 1, type: 'how', question: '"Prior" em português é...?', hint: 'Anterior, prévio.' },
    ],
    options: [
      'After',
      'Before',
      'During',
      'Instead of'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Prior to = antes de.',
      whatFor: 'Entender pré-requisitos.',
      how: '"Prior to installation" = antes de instalar.',
      commonMistakes: ['Confundir com "after"', 'Pular passos prévios'],
      realWorldExample: 'Prior to deployment, run tests.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'padrões', 'tempo'],
    xpReward: 50,
    professionalContext: 'Pré-requisitos de instalação.',
    militaryApplication: 'Prior to mission, conduct briefing.',
  },
  {
    id: 'eng-error-1',
    lessonId: 'eng-pattern-4',
    type: 'output-prediction',
    question: 'Error: "IndexError: list index out of range". What happened?',
    socraticHints: [
      { level: 1, type: 'how', question: '"Out of range" significa?', hint: 'Fora do intervalo válido.' },
    ],
    options: [
      'List is empty',
      'Tried to access index that does not exist',
      'Wrong data type',
      'Memory error'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Index out of range = índice além do tamanho.',
      whatFor: 'Debugar erros de acesso a lista.',
      how: 'lista[5] em lista de 3 elementos causa erro.',
      commonMistakes: ['Não verificar tamanho antes', 'Off-by-one errors'],
      realWorldExample: 'Acessar último elemento corretamente: lista[-1].',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'erros', 'debugging'],
    xpReward: 75,
    professionalContext: 'Interpretação de erros.',
    militaryApplication: 'Índice fora do range de alvos.',
  },
  {
    id: 'eng-error-2',
    lessonId: 'eng-pattern-4',
    type: 'output-prediction',
    question: 'Error: "TypeError: unsupported operand type(s) for +: \'int\' and \'str\'". What is the issue?',
    socraticHints: [
      { level: 1, type: 'how', question: '"Unsupported operand" significa?', hint: 'Operação não suportada entre esses tipos.' },
    ],
    options: [
      'Variable not defined',
      'Cannot add integer and string together',
      'Division by zero',
      'File not found'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'TypeError = tipos incompatíveis para operação.',
      whatFor: 'Identificar onde converter tipos.',
      how: '5 + "texto" falha. Use str(5) + "texto".',
      commonMistakes: ['Não converter tipos', 'Confundir com ValueError'],
      realWorldExample: 'Concatenar idade com string.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'erros', 'tipos'],
    xpReward: 75,
    professionalContext: 'Debugging de tipos.',
    militaryApplication: 'Erro ao processar dados de sensores.',
  },
  {
    id: 'eng-error-3',
    lessonId: 'eng-pattern-4',
    type: 'output-prediction',
    question: 'Error: "KeyError: \'name\'". What happened?',
    socraticHints: [
      { level: 1, type: 'how', question: '"KeyError" envolve qual estrutura?', hint: 'Dicionário - chave não encontrada.' },
    ],
    options: [
      'Variable name is reserved',
      'Dictionary key does not exist',
      'Function name is wrong',
      'Import failed'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'KeyError = chave não existe no dicionário.',
      whatFor: 'Verificar existência de chaves.',
      how: 'd["name"] falha se "name" não existe. Use d.get("name").',
      commonMistakes: ['Não verificar se chave existe', 'Typo no nome da chave'],
      realWorldExample: 'API retornou JSON sem campo esperado.',
    },
    difficulty: 'beginner',
    tags: ['inglês', 'erros', 'dicionário'],
    xpReward: 75,
    professionalContext: 'Parsing de APIs.',
    militaryApplication: 'Campo faltante em relatório.',
  },
  {
    id: 'eng-doc-1',
    lessonId: 'eng-read-2',
    type: 'output-prediction',
    question: 'In Pandas documentation: "Parameters: axis : {0 or \'index\', 1 or \'columns\'}, default 0". What does this mean?',
    socraticHints: [
      { level: 1, type: 'how', question: '"Default 0" significa?', hint: 'Se não especificar, usa 0 (linhas).' },
    ],
    options: [
      'Only axis=0 is allowed',
      'axis can be 0/index or 1/columns, with 0 as default',
      'You must always specify axis',
      'axis is optional and has no default'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'Entender sintaxe de documentação é essencial.',
      whatFor: 'Saber quais valores são válidos e qual é padrão.',
      how: '{opcões} mostra valores válidos, default indica padrão.',
      commonMistakes: ['Não saber que 0="index"', 'Esquecer de mudar default quando necessário'],
      realWorldExample: 'df.sum() usa axis=0 por padrão.',
    },
    difficulty: 'intermediate',
    tags: ['inglês', 'documentação', 'parâmetros'],
    xpReward: 100,
    professionalContext: 'Leitura de documentação.',
    militaryApplication: 'Parâmetros de configuração.',
  },
  {
    id: 'eng-doc-2',
    lessonId: 'eng-read-2',
    type: 'output-prediction',
    question: 'In documentation: "Returns: DataFrame if multiple columns are passed, Series if single column." What determines the return type?',
    socraticHints: [
      { level: 1, type: 'how', question: 'A frase usa "if" duas vezes. O que isso indica?', hint: 'Retorno depende da condição (número de colunas).' },
    ],
    options: [
      'Always returns DataFrame',
      'Always returns Series',
      'Depends on number of columns passed',
      'Random'
    ],
    correctAnswer: 2,
    explanation: {
      why: 'Retorno condicional é comum em APIs.',
      whatFor: 'Saber o que esperar do resultado.',
      how: 'Uma coluna → Series. Múltiplas → DataFrame.',
      commonMistakes: ['Assumir tipo fixo', 'Não verificar tipo retornado'],
      realWorldExample: 'df["col"] vs df[["col1", "col2"]].',
    },
    difficulty: 'intermediate',
    tags: ['inglês', 'documentação', 'retorno'],
    xpReward: 100,
    professionalContext: 'Uso correto de APIs.',
    militaryApplication: 'Entender outputs variáveis.',
  },
  {
    id: 'eng-doc-3',
    lessonId: 'eng-read-2',
    type: 'output-prediction',
    question: '"Note: This method modifies the object in-place and returns None." What does "in-place" mean?',
    socraticHints: [
      { level: 1, type: 'how', question: '"In-place" vs "return new"?', hint: 'Modifica o original vs retorna cópia modificada.' },
    ],
    options: [
      'Creates a new copy',
      'Modifies the original object directly',
      'Only works on specific locations',
      'Requires extra memory'
    ],
    correctAnswer: 1,
    explanation: {
      why: 'In-place significa modificar o próprio objeto.',
      whatFor: 'Saber se original muda ou não.',
      how: 'list.sort() modifica in-place. sorted(list) retorna nova.',
      commonMistakes: ['Atribuir resultado de método in-place', 'Pensar que preserva original'],
      realWorldExample: 'df.sort_values(inplace=True).',
    },
    difficulty: 'intermediate',
    tags: ['inglês', 'documentação', 'comportamento'],
    xpReward: 100,
    professionalContext: 'Evitar bugs com mutabilidade.',
    militaryApplication: 'Alterar ordem in-place vs criar cópia.',
  },
];
